const _0x461b49=_0xe812;(function(_0x385681,_0x147055){const _0x59985e=_0xe812,_0x38225c=_0x385681();while(!![]){try{const _0xb040c6=parseInt(_0x59985e(0x1e6))/0x1+parseInt(_0x59985e(0x19e))/0x2+-parseInt(_0x59985e(0x1f2))/0x3+-parseInt(_0x59985e(0x24c))/0x4+parseInt(_0x59985e(0x1bd))/0x5+-parseInt(_0x59985e(0x212))/0x6*(parseInt(_0x59985e(0x1c9))/0x7)+-parseInt(_0x59985e(0x172))/0x8*(-parseInt(_0x59985e(0x1ef))/0x9);if(_0xb040c6===_0x147055)break;else _0x38225c['push'](_0x38225c['shift']());}catch(_0x808cd7){_0x38225c['push'](_0x38225c['shift']());}}}(_0x3b43,0xb1d0a));const FORM_URL='https://docs.google.com/forms/u/0/d/e/1FAIpQLSej8F-WqVXrneoK1caUwagNb8EbcsLG7c2IWbgzlGIxd7xYAQ/formResponse',SHEET_URL=_0x461b49(0x1a2),DELETE_URL=_0x461b49(0x1a4);let localConnection,dataChannel,pollingInterval,isManuallyConnecting=![],peerId=null;function _0x3b43(){const _0x10a674=['target','\x22\x20alt=\x22',',\x20size:\x20','\x20px-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message\x20py-1\x22\x20style=\x22font-size:12px;font-weight:450;\x22>','Peer\x20ID\x20is\x20required','Max\x20retries\x20reached\x20for\x20','visibilityState','focus','\x22\x20class=\x22mt-2\x22\x20style=\x22max-width:\x20300px;\x20max-height:\x20250px;\x20object-fit:\x20contain;\x22\x20class=\x22img-fluid\x20rounded\x22></video><br>','sdp','\x22\x20is\x20requesting\x20to\x20connect.\x20Do\x20you\x20want\x20to\x20join?','aria-valuenow','Error\x20displaying\x20message\x20for\x20','resend_request','5464185pgDzDC','setItem','<audio\x20controls\x20src=\x22','POST','min',',\x20chunk:\x20','Error\x20resending\x20file\x20chunk\x20','Peer\x20ID\x20or\x20Name\x20cannot\x20be\x20empty','Failed\x20to\x20display\x20message\x20in\x20UI.\x20Please\x20refresh\x20the\x20page.','Peer\x20\x22','val','#login-section','65548NIUUDA',',\x20type:\x20','attr','#savePeerModal','Offer\x20Submitted','\x20for\x20messageId\x20','\x20bytes),\x20retrying\x20for\x20messageId:\x20','#settingBtn','show','Connect','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22chat-message\x20','denied','</span>','complete','chunkIndex','iceConnectionState','d-flex','Error\x20sending\x20file:','#name-error','stringify','readyState','ceil','value','Join','scrollTop',',\x20proceeding\x20as\x20answerer','Failed\x20to\x20reconstruct\x20received\x20file.\x20Please\x20try\x20again.','#progress-','now','86615OdIiYk','\x22\x20download=\x22','Resent\x20file\x20chunk\x20','onerror','\x20px-3\x22\x20id=\x22progress-','slice','Please\x20wait\x20until\x20the\x20connection\x20is\x20established\x20before\x20sending\x20a\x20file.','Anonymous','image/','456309jiFASv','click','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress\x20mt-2\x22\x20style=\x22height:\x2030px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x20progress-bar-striped\x20progress-bar-animated\x20bg-info\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20role=\x22progressbar\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x200%;\x20font-size:\x2016px;\x20line-height:\x2030px;\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-valuenow=\x220\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-valuemin=\x220\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-valuemax=\x22100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22progress-percentage\x22>0%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','1044561RPAEHj','self','\x22\x20class=\x22img-fluid\x20rounded\x20mt-2\x22\x20style=\x22width:\x20100%;\x20height:\x20auto;\x20object-fit:\x20contain;\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<br>','entry.443244439','Data\x20channel\x20error\x20during\x20transfer\x20of\x20','\x22\x20saved\x20for\x20notifications.','#delete-all-btn','peerName','oniceconnectionstatechange','trim','then','push','width','stun:stun.l.google.com:19302','warn','#autoJoinConfirmBtn','#peerIdToSave','\x20SDP:','Delete\x20error\x20for\x20peerId:','file','No\x20offer\x20SDP\x20found\x20yet\x20for\x20peerId:\x20','Modal','iceGatheringState',',\x20received:\x20','setLocalDescription','getElementById','open','Notification\x20permission\x20denied.\x20Cannot\x20save\x20Peer\x20ID.','#peer-id','<span\x20class=\x22status-icon\x20text-muted\x20ms-2\x22><i\x20class=\x22fas\x20fa-check-double\x22></i></span>','Failed\x20to\x20fetch\x20','Offer\x20Creating...','84ZYOMsv','#media-input','\x20for\x20messageId:\x20','change','Waiting\x20for\x20peer...','Disconnect','off','reduce','Received\x20file\x20chunk\x20','Cannot\x20send\x20file,\x20dataChannel\x20state:','Error\x20sending\x20file\x20chunk\x20for\x20messageId:','Received\x20file\x20metadata\x20for\x20','d-none',',\x20expected:\x20','entry.479288741','Displayed\x20message\x20for\x20','icegatheringstatechange','catch','addClass','Transitioned\x20to\x20chat\x20UI','Connection\x20timed\x20out.\x20Please\x20try\x20again\x20or\x20check\x20peer\x20ID.','preventDefault','entry.1244760702','messageId',',\x20fileType:\x20','#btn-send-text','hasClass','error','onmessage','Sending\x20text\x20message,\x20dataChannel\x20state:','</div>','\x22\x20is\x20requesting\x20to\x20connect.','\x20SDP\x20for\x20peerId:\x20','css','Buffer\x20full\x20(','message','FileReader\x20error\x20for\x20messageId:','peerId\x20is\x20undefined\x20in\x20deletePeerFromSheet','answer','#chat-display','All\x20chunks\x20received\x20for\x20','Failed\x20to\x20establish\x20connection.\x20Please\x20try\x20again.','undefined','find','audio/','getItem','<video\x20controls\x20src=\x22','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22image-wrapper\x22\x20style=\x22max-width:\x20100%;\x20overflow:\x20hidden;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','Buffer\x20full\x20during\x20resend\x20(','Submitting\x20answer\x20SDP\x20for\x20peerId:\x20','Waiting\x20for\x20offer...','delete','rows','scrollHeight','#chat-message','peerId\x20is\x20undefined\x20in\x20setupDataChannel','Error\x20reconstructing\x20file\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','1508880hpzxyN','onload','Unknown\x20File','offer','Wavelite','ICE\x20connection\x20state:','\x20.progress-bar','removeEventListener','#btn-send-media','type','Connecting...','Submitted\x20','fileName','Submitting\x20offer\x20SDP\x20for\x20peerId:\x20','append','Starting\x20connection\x20for\x20peerId:\x20','#peer-error','createOffer','#chat-section','\x22\x20class=\x22btn\x20btn-sm\x20btn-secondary\x20ms-1\x22><i\x20class=\x22fas\x20fa-download\x22></i></a>','hide','Answer\x20SDP\x20found\x20for\x20peerId:\x20','application/octet-stream','#reloadBtn','\x20for\x20','Failed\x20to\x20read\x20file\x20chunk.\x20Please\x20try\x20again.','#peerNameToSave','log','Deleted\x20all\x20SDP\x20entries:','FileReader\x20error\x20during\x20resend\x20for\x20messageId:\x20','autoJoinModal','round','no-cors','#peerIdSubmit','Failed\x20to\x20send\x20file.\x20Please\x20try\x20again.','disabled','localDescription','modal','onopen','Data\x20channel\x20error\x20occurred.\x20Please\x20reconnect\x20and\x20try\x20again.','8ohwDtf','Failed\x20to\x20receive\x20all\x20chunks\x20for\x20','visible','name','totalChunks','stun:stun.stunprotocol.org:3478','send','ready','granted','#confirmSavePeerBtn','fileSize','Joining...','setRemoteDescription','Received\x20resend\x20request\x20for\x20messageId:\x20','\x20bytes),\x20waiting\x20for\x20messageId:\x20','files','Error\x20setting\x20up\x20offerer:','No\x20offer\x20found,\x20acting\x20as\x20offerer','size','get','/logo.png','text','createAnswer','delivered','peer123','Name\x20is\x20required','fileType','Failed\x20to\x20send\x20file\x20chunk.\x20Please\x20try\x20again.','Peer\x20ID\x20\x22','requestPermission','peerId','#chat-username','other','removeClass','Please\x20wait\x20until\x20the\x20connection\x20is\x20established\x20before\x20sending\x20a\x20message.','parse','Submitting\x20Offer...','prop','Sending\x20file,\x20dataChannel\x20state:','data','toString','set','chat','stun:stun2.l.google.com:19302','709360VxZmaB','createObjectURL','Failed\x20to\x20join\x20connection.\x20Please\x20try\x20again.','video/','https://docs.google.com/spreadsheets/d/1oQ7TEJLutMpXo4gi75jTOmlBGPBHlF3ekE0mtA3nK_M/gviz/tq?tqx=out:json','Cannot\x20resend\x20chunk\x20','https://script.google.com/macros/s/AKfycbyNUCRo3JKNk_bVq9VcdpbICGuBiTytBGRAjFr7VDrHVvG6TMxaA195sBSSBOeiR1DG/exec','byteLength','bufferedAmount','readAsArrayBuffer',',\x20total\x20bytes:\x20','startsWith','<div\x20class=\x22file-name\x22\x20style=\x22font-size:\x2013px;\x20font-weight:\x20500;\x22>','sent','addEventListener','#joinPeer','Error\x20sending\x20text\x20message:'];_0x3b43=function(){return _0x10a674;};return _0x3b43();}const CONNECTION_TIMEOUT=0x1d4c0,CHUNK_TIMEOUT=0x7530,MAX_RETRIES=0x5,CHUNK_SIZE=0x10000,BUFFER_THRESHOLD=0x40000;let fileReader=new FileReader(),currentFile=null,currentChunk=0x0,totalChunks=0x0,retryCounts=new Map(),activeTransfers=new Map(),receivedFileInfo=null;$(document)[_0x461b49(0x179)](()=>{const _0x2babc5=_0x461b49;$(_0x2babc5(0x16b))[_0x2babc5(0x1f0)](async function(_0x547c57){const _0x5f842d=_0x2babc5;_0x547c57[_0x5f842d(0x227)](),isManuallyConnecting=!![];var _0x16f9d9=$('#chat-username')[_0x5f842d(0x1c7)]()[_0x5f842d(0x1fb)]();peerId=$(_0x5f842d(0x20e))[_0x5f842d(0x1c7)]()[_0x5f842d(0x1fb)](),$(_0x5f842d(0x1db))[_0x5f842d(0x187)](''),$(_0x5f842d(0x15a))[_0x5f842d(0x187)]('');let _0x5bf64a=![];!_0x16f9d9&&(_0x16f9d9='Anonymous');!peerId&&(peerId=_0x5f842d(0x18a));if(_0x5bf64a)return;$(_0x5f842d(0x16b))[_0x5f842d(0x197)](_0x5f842d(0x16d),!![])[_0x5f842d(0x187)](_0x5f842d(0x154)),$(_0x5f842d(0x1ad))[_0x5f842d(0x197)](_0x5f842d(0x16d),!![])['text'](_0x5f842d(0x1e0)),$('#peerId')[_0x5f842d(0x1c7)](peerId),startConnection(peerId);}),$(_0x2babc5(0x213))[_0x2babc5(0x215)](_0x34453b=>{const _0x8f7b0e=_0x2babc5,_0x5df157=_0x34453b[_0x8f7b0e(0x1af)][_0x8f7b0e(0x181)][0x0];_0x5df157?currentFile=_0x5df157:currentFile=null;}),$(_0x2babc5(0x152))[_0x2babc5(0x1f0)](()=>{const _0x3776a7=_0x2babc5;if(!currentFile)$(_0x3776a7(0x213))[_0x3776a7(0x1f0)]();else{if(dataChannel&&dataChannel[_0x3776a7(0x1dd)]===_0x3776a7(0x20c)){console[_0x3776a7(0x165)](_0x3776a7(0x198),dataChannel[_0x3776a7(0x1dd)]);const _0xd23ef7=$('#chat-username')[_0x3776a7(0x1c7)]()||_0x3776a7(0x1ed),_0x38173a=Date[_0x3776a7(0x1e5)]()[_0x3776a7(0x19a)]();currentChunk=0x0,totalChunks=Math[_0x3776a7(0x1de)](currentFile[_0x3776a7(0x184)]/CHUNK_SIZE),activeTransfers[_0x3776a7(0x19b)](_0x38173a,{'file':currentFile,'fileName':currentFile[_0x3776a7(0x175)],'fileSize':currentFile['size'],'fileType':currentFile[_0x3776a7(0x153)]||'application/octet-stream','totalChunks':totalChunks});const _0xfb03ac={'type':_0x3776a7(0x205),'name':_0xd23ef7,'messageId':_0x38173a,'fileName':currentFile[_0x3776a7(0x175)],'fileSize':currentFile[_0x3776a7(0x184)],'fileType':currentFile[_0x3776a7(0x153)]||'application/octet-stream'};try{dataChannel[_0x3776a7(0x178)](JSON[_0x3776a7(0x1dc)](_0xfb03ac));const _0x4069e9=URL[_0x3776a7(0x19f)](currentFile);displayMessage(_0xd23ef7,currentFile[_0x3776a7(0x175)],!![],'file',_0x4069e9,_0x38173a,'sent',_0xfb03ac[_0x3776a7(0x18c)]),showProgressBar(_0x38173a,!![]),sendFileChunks(_0x38173a);}catch(_0x34eb4a){console['error'](_0x3776a7(0x1da),_0x34eb4a),hideProgressBar(_0x38173a),activeTransfers[_0x3776a7(0x245)](_0x38173a),alert(_0x3776a7(0x16c));}}else console[_0x3776a7(0x200)](_0x3776a7(0x21b),dataChannel?dataChannel['readyState']:_0x3776a7(0x23c)),alert(_0x3776a7(0x1ec));}}),$(_0x2babc5(0x161))[_0x2babc5(0x1f0)](function(){location['reload']();}),$(_0x2babc5(0x22b))[_0x2babc5(0x1f0)](()=>{const _0x37d587=_0x2babc5,_0x5ab2e6=$(_0x37d587(0x191))[_0x37d587(0x1c7)]()||_0x37d587(0x1ed),_0x18f335=$(_0x37d587(0x248))['val'](),_0x426666=Date['now']()[_0x37d587(0x19a)]();if(_0x18f335&&dataChannel&&dataChannel['readyState']===_0x37d587(0x20c)){console['log'](_0x37d587(0x22f),dataChannel[_0x37d587(0x1dd)]);try{dataChannel[_0x37d587(0x178)](JSON[_0x37d587(0x1dc)]({'type':_0x37d587(0x187),'name':_0x5ab2e6,'message':_0x18f335,'messageId':_0x426666})),displayMessage(_0x5ab2e6,_0x18f335,!![],_0x37d587(0x187),null,_0x426666,_0x37d587(0x1ab)),$(_0x37d587(0x248))[_0x37d587(0x1c7)]('');}catch(_0x42d387){console[_0x37d587(0x22d)](_0x37d587(0x1ae),_0x42d387),alert('Failed\x20to\x20send\x20message.\x20Please\x20try\x20again.');}}else console[_0x37d587(0x200)]('Cannot\x20send\x20text,\x20dataChannel\x20state:',dataChannel?dataChannel[_0x37d587(0x1dd)]:_0x37d587(0x23c)),alert(_0x37d587(0x194));}),$(_0x2babc5(0x1f8))[_0x2babc5(0x1f0)](()=>{const _0x56be67=_0x2babc5;fetch(DELETE_URL,{'method':'POST','body':new URLSearchParams({'peerId':''})})[_0x56be67(0x1fc)](_0x27e65=>_0x27e65[_0x56be67(0x187)]())[_0x56be67(0x1fc)](_0x1f52e6=>alert(_0x56be67(0x166),_0x1f52e6))[_0x56be67(0x223)](_0x5862e2=>alert('Error\x20deleting\x20SDP\x20entries:',_0x5862e2));}),$(_0x2babc5(0x1ad))[_0x2babc5(0x1f0)](async function(_0x280170){const _0x3fe8f1=_0x2babc5;_0x280170[_0x3fe8f1(0x227)](),isManuallyConnecting=!![];const _0x461004=$('#chat-username')[_0x3fe8f1(0x1c7)]()[_0x3fe8f1(0x1fb)]();peerId=$(_0x3fe8f1(0x20e))['val']()['trim'](),$('#name-error')['text'](''),$('#peer-error')[_0x3fe8f1(0x187)]('');let _0x1dd704=![];!_0x461004&&($('#name-error')[_0x3fe8f1(0x187)](_0x3fe8f1(0x18b)),_0x1dd704=!![]);!peerId&&($(_0x3fe8f1(0x15a))[_0x3fe8f1(0x187)](_0x3fe8f1(0x1b3)),_0x1dd704=!![]);if(_0x1dd704)return;$(_0x3fe8f1(0x1ad))[_0x3fe8f1(0x197)]('disabled',!![])['text'](_0x3fe8f1(0x17d)),$('#peerIdSubmit')[_0x3fe8f1(0x197)](_0x3fe8f1(0x16d),!![])[_0x3fe8f1(0x187)](_0x3fe8f1(0x1d2)),$('#peerId')[_0x3fe8f1(0x1c7)](peerId),startJoinConnection(peerId);}),$(_0x2babc5(0x17b))[_0x2babc5(0x1f0)](async()=>{const _0x58af25=_0x2babc5,_0x82b7ed=$(_0x58af25(0x202))[_0x58af25(0x1c7)]()[_0x58af25(0x1fb)](),_0x2ba335=$(_0x58af25(0x164))[_0x58af25(0x1c7)]()[_0x58af25(0x1fb)](),_0x3a610b=$('#save-peer-alert');_0x3a610b[_0x58af25(0x224)](_0x58af25(0x21e))[_0x58af25(0x187)]('');if(!_0x82b7ed||!_0x2ba335){_0x3a610b[_0x58af25(0x187)](_0x58af25(0x1c4))['removeClass']('d-none');return;}const _0x47eb95=await Notification[_0x58af25(0x18f)]();if(_0x47eb95!=='granted'){_0x3a610b[_0x58af25(0x187)](_0x58af25(0x20d))[_0x58af25(0x193)](_0x58af25(0x21e));return;}localStorage[_0x58af25(0x1be)]('peerIds',_0x82b7ed),localStorage['setItem']('peerName',_0x2ba335),alert(_0x58af25(0x18e)+_0x82b7ed+_0x58af25(0x1f7)),$(_0x58af25(0x1cc))[_0x58af25(0x16f)]('hide');}),$(_0x2babc5(0x1d0))[_0x2babc5(0x1f0)](function(){const _0x13f6fd=_0x2babc5,_0x54e859=localStorage['getItem']('peerIds')||'',_0x59f3c0=localStorage[_0x13f6fd(0x23f)]('peerName')||'';_0x54e859&&($(_0x13f6fd(0x202))[_0x13f6fd(0x1c7)](_0x54e859),$('#peerNameToSave')[_0x13f6fd(0x1c7)](_0x59f3c0));});let _0x3d6645=![],_0x5ba69a=setInterval(async()=>{const _0x24c33a=_0x2babc5;if(isManuallyConnecting||_0x3d6645)return;const _0x47a30b=localStorage['getItem']('peerIds')||_0x24c33a(0x18a),_0x17758a=localStorage[_0x24c33a(0x23f)](_0x24c33a(0x1f9))||'Anonymous';if(!_0x47a30b)return;const _0x52ce90=await fetchSDP(_0x47a30b,'offer');if(_0x52ce90){if(Notification['permission']===_0x24c33a(0x17a)&&document[_0x24c33a(0x1b5)]!==_0x24c33a(0x174)){const _0x430759=new Notification(_0x24c33a(0x250),{'body':_0x24c33a(0x1c6)+_0x47a30b+_0x24c33a(0x231),'icon':_0x24c33a(0x186)});_0x430759['onclick']=function(_0x4a0c38){const _0x1f3d00=_0x24c33a;_0x4a0c38[_0x1f3d00(0x227)](),window[_0x1f3d00(0x1b6)](),$('#autoJoinMessage')[_0x1f3d00(0x187)]('Peer\x20\x22'+_0x47a30b+'\x22\x20is\x20requesting\x20to\x20connect.\x20Do\x20you\x20want\x20to\x20join?');const _0x29977e=new bootstrap[(_0x1f3d00(0x207))](document[_0x1f3d00(0x20b)](_0x1f3d00(0x168)));_0x29977e[_0x1f3d00(0x1d1)](),$('#autoJoinConfirmBtn')[_0x1f3d00(0x218)]('click')['on'](_0x1f3d00(0x1f0),()=>{const _0x2ebd25=_0x1f3d00;_0x29977e[_0x2ebd25(0x15e)](),setTimeout(()=>{const _0x3f2483=_0x2ebd25;isManuallyConnecting=!![],$(_0x3f2483(0x20e))['val'](_0x47a30b),$(_0x3f2483(0x191))[_0x3f2483(0x1c7)](_0x17758a),$('#joinPeer')[_0x3f2483(0x1f0)]();},0x12c);});};}else Notification['permission']!==_0x24c33a(0x1d4)&&Notification['requestPermission']()[_0x24c33a(0x1fc)](_0x584363=>{const _0x315844=_0x24c33a;_0x584363===_0x315844(0x17a)&&document[_0x315844(0x1b5)]!=='visible'&&new Notification('Wavelite',{'body':_0x315844(0x1c6)+_0x47a30b+_0x315844(0x231),'icon':_0x315844(0x186)});});_0x3d6645=!![];if(document[_0x24c33a(0x1b5)]===_0x24c33a(0x174)){$('#autoJoinMessage')[_0x24c33a(0x187)]('Peer\x20\x22'+_0x47a30b+_0x24c33a(0x1b9));const _0x549be7=new bootstrap[(_0x24c33a(0x207))](document['getElementById']('autoJoinModal'));_0x549be7['show'](),$(_0x24c33a(0x201))[_0x24c33a(0x218)](_0x24c33a(0x1f0))['on']('click',()=>{const _0x5bef7c=_0x24c33a;_0x549be7[_0x5bef7c(0x15e)](),setTimeout(()=>{const _0xf7e8af=_0x5bef7c;isManuallyConnecting=!![],$(_0xf7e8af(0x20e))[_0xf7e8af(0x1c7)](_0x47a30b),$(_0xf7e8af(0x191))[_0xf7e8af(0x1c7)](_0x17758a),$('#joinPeer')[_0xf7e8af(0x1f0)]();},0x12c);});}return;}},0xbb8);});async function startConnection(_0x32a85a){const _0x54a8ac=_0x461b49;console[_0x54a8ac(0x165)](_0x54a8ac(0x159)+_0x32a85a);const _0xfd8f23=await fetchSDP(_0x32a85a,_0x54a8ac(0x24f));_0xfd8f23?(console['log']('Offer\x20found,\x20acting\x20as\x20answerer'),await setupAnswerer(_0xfd8f23)):(console[_0x54a8ac(0x165)](_0x54a8ac(0x183)),await setupOfferer(_0x32a85a));}function _0xe812(_0x5b72e8,_0x5c7123){const _0x3b4317=_0x3b43();return _0xe812=function(_0xe81232,_0xf06ae){_0xe81232=_0xe81232-0x152;let _0x2f60be=_0x3b4317[_0xe81232];return _0x2f60be;},_0xe812(_0x5b72e8,_0x5c7123);}async function setupOfferer(_0x3767ea){const _0x37c9c8=_0x461b49;localConnection=createPeerConnection(),dataChannel=localConnection['createDataChannel'](_0x37c9c8(0x19c)),setupDataChannel(),$(_0x37c9c8(0x16b))[_0x37c9c8(0x187)](_0x37c9c8(0x211));try{const _0x1547ad=await localConnection[_0x37c9c8(0x15b)]();await localConnection['setLocalDescription'](_0x1547ad),await waitForIceGathering(localConnection),console[_0x37c9c8(0x165)](_0x37c9c8(0x157)+_0x3767ea),await submitSDP(_0x3767ea,_0x37c9c8(0x24f),JSON[_0x37c9c8(0x1dc)](localConnection[_0x37c9c8(0x16e)])),$(_0x37c9c8(0x16b))[_0x37c9c8(0x187)](_0x37c9c8(0x216));let _0x1a8db9=Date[_0x37c9c8(0x1e5)]();pollingInterval=setInterval(async()=>{const _0x4f27fe=_0x37c9c8;if(Date[_0x4f27fe(0x1e5)]()-_0x1a8db9>CONNECTION_TIMEOUT){clearInterval(pollingInterval),$('#peerIdSubmit')[_0x4f27fe(0x197)](_0x4f27fe(0x16d),![])['text'](_0x4f27fe(0x1d2)),$(_0x4f27fe(0x1ad))['prop'](_0x4f27fe(0x16d),![])[_0x4f27fe(0x187)](_0x4f27fe(0x1e0)),alert(_0x4f27fe(0x226));return;}const _0x29f5df=await fetchSDP(_0x3767ea,_0x4f27fe(0x238));_0x29f5df&&(console['log'](_0x4f27fe(0x15f)+_0x3767ea),clearInterval(pollingInterval),await localConnection[_0x4f27fe(0x17e)](new RTCSessionDescription(JSON[_0x4f27fe(0x195)](_0x29f5df[_0x4f27fe(0x1b8)]))));},0x1388);}catch(_0x113da3){console[_0x37c9c8(0x22d)](_0x37c9c8(0x182),_0x113da3),$(_0x37c9c8(0x16b))[_0x37c9c8(0x197)](_0x37c9c8(0x16d),![])['text'](_0x37c9c8(0x1d2)),$('#joinPeer')['prop'](_0x37c9c8(0x16d),![])[_0x37c9c8(0x187)](_0x37c9c8(0x1e0)),alert(_0x37c9c8(0x23b));}}async function setupAnswerer(_0x20da4f){const _0x1056a5=_0x461b49;localConnection=createPeerConnection(),localConnection['ondatachannel']=_0x3dd89f=>{dataChannel=_0x3dd89f['channel'],setupDataChannel();};try{await localConnection[_0x1056a5(0x17e)](new RTCSessionDescription(JSON[_0x1056a5(0x195)](_0x20da4f[_0x1056a5(0x1b8)])));const _0x47e243=await localConnection[_0x1056a5(0x188)]();await localConnection[_0x1056a5(0x20a)](_0x47e243),await waitForIceGathering(localConnection),console['log'](_0x1056a5(0x243)+_0x20da4f[_0x1056a5(0x190)]),await submitSDP(_0x20da4f[_0x1056a5(0x190)],_0x1056a5(0x238),JSON[_0x1056a5(0x1dc)](localConnection[_0x1056a5(0x16e)]));}catch(_0x1d3242){console[_0x1056a5(0x22d)]('Error\x20setting\x20up\x20answerer:',_0x1d3242),$('#peerIdSubmit')[_0x1056a5(0x197)](_0x1056a5(0x16d),![])[_0x1056a5(0x187)](_0x1056a5(0x1d2)),$(_0x1056a5(0x1ad))[_0x1056a5(0x197)](_0x1056a5(0x16d),![])[_0x1056a5(0x187)](_0x1056a5(0x1e0)),alert(_0x1056a5(0x23b));}}function createPeerConnection(){const _0x4391b9=_0x461b49,_0x48e30a=new RTCPeerConnection({'iceServers':[{'urls':_0x4391b9(0x1ff)},{'urls':'stun:stun1.l.google.com:19302'},{'urls':_0x4391b9(0x19d)},{'urls':_0x4391b9(0x177)}],'iceCandidatePoolSize':0x0});return _0x48e30a[_0x4391b9(0x1fa)]=()=>{const _0x57268d=_0x4391b9;console[_0x57268d(0x165)](_0x57268d(0x251),_0x48e30a[_0x57268d(0x1d8)]);},_0x48e30a;}function waitForIceGathering(_0x366fee){const _0x54642a=_0x461b49;return $(_0x54642a(0x16b))[_0x54642a(0x187)]('ICE\x20Gathering...'),new Promise(_0x1b92f6=>{const _0x5e3578=_0x54642a;if(_0x366fee[_0x5e3578(0x208)]===_0x5e3578(0x1d6))return _0x1b92f6();const _0x1cf6a7=()=>{const _0x5788d3=_0x5e3578;_0x366fee[_0x5788d3(0x208)]===_0x5788d3(0x1d6)&&(_0x366fee[_0x5788d3(0x253)]('icegatheringstatechange',_0x1cf6a7),_0x1b92f6());};_0x366fee[_0x5e3578(0x1ac)](_0x5e3578(0x222),_0x1cf6a7);});}async function submitSDP(_0x117f24,_0x4bc557,_0x2d1de2){const _0x151a41=_0x461b49;$('#peerIdSubmit')[_0x151a41(0x187)](_0x151a41(0x196));const _0x16c803=new FormData();_0x16c803[_0x151a41(0x158)](_0x151a41(0x228),_0x117f24),_0x16c803[_0x151a41(0x158)](_0x151a41(0x1f5),_0x4bc557),_0x16c803[_0x151a41(0x158)](_0x151a41(0x220),_0x2d1de2);try{await fetch(FORM_URL,{'method':_0x151a41(0x1c0),'mode':_0x151a41(0x16a),'body':_0x16c803}),console[_0x151a41(0x165)](_0x151a41(0x155)+_0x4bc557+_0x151a41(0x232)+_0x117f24),$('#peerIdSubmit')[_0x151a41(0x187)](_0x151a41(0x1cd));}catch(_0x1403da){console[_0x151a41(0x22d)]('Error\x20submitting\x20'+_0x4bc557+_0x151a41(0x203),_0x1403da);throw _0x1403da;}}async function fetchSDP(_0x460962,_0x6b0f44){const _0x53ba2b=_0x461b49;try{const _0x430fce=await fetch(SHEET_URL),_0x2922e8=await _0x430fce[_0x53ba2b(0x187)](),_0x50d07a=JSON[_0x53ba2b(0x195)](_0x2922e8['substring'](0x2f)['slice'](0x0,-0x2)),_0x25a8b0=_0x50d07a['table'][_0x53ba2b(0x246)];for(let _0x18c33b of _0x25a8b0){const _0x389783=_0x18c33b['c'][0x1]?.['v'],_0x566662=_0x18c33b['c'][0x2]?.['v'],_0x40a76f=_0x18c33b['c'][0x3]?.['v'];if(_0x389783==_0x460962&&_0x566662==_0x6b0f44&&_0x40a76f)return console[_0x53ba2b(0x165)]('Found\x20'+_0x6b0f44+'\x20SDP\x20for\x20peerId:\x20'+_0x389783),{'peerId':_0x389783,'role':_0x566662,'sdp':_0x40a76f};}return console[_0x53ba2b(0x165)]('No\x20'+_0x6b0f44+'\x20SDP\x20found\x20for\x20peerId:\x20'+_0x460962),null;}catch(_0x5adc30){return console[_0x53ba2b(0x22d)](_0x53ba2b(0x210)+_0x6b0f44+'\x20SDP\x20for\x20peerId:\x20'+_0x460962+':',_0x5adc30),null;}}function setupDataChannel(){const _0x3f1aa4=_0x461b49;let _0x3fd68a=[],_0x1e1f44=null,_0x6fca38=null,_0x2fa800=0x0;if(!peerId){console['error'](_0x3f1aa4(0x249));return;}dataChannel[_0x3f1aa4(0x170)]=()=>{const _0x35cc4d=_0x3f1aa4;console[_0x35cc4d(0x165)]('Data\x20channel\x20opened\x20for\x20peerId:',peerId),deletePeerFromSheet(peerId),transitionToChat();},dataChannel[_0x3f1aa4(0x22e)]=_0x28a4b1=>{const _0x182785=_0x3f1aa4;if(_0x28a4b1[_0x182785(0x199)]instanceof ArrayBuffer){if(receivedFileInfo){_0x3fd68a[_0x182785(0x1fd)](_0x28a4b1[_0x182785(0x199)]),_0x1e1f44=Date[_0x182785(0x1e5)](),_0x2fa800++;const _0x4947f8=_0x3fd68a[_0x182785(0x219)]((_0x46515b,_0x4d6029)=>_0x46515b+_0x4d6029[_0x182785(0x1a5)],0x0);console['log'](_0x182785(0x21a)+_0x3fd68a['length']+'/'+Math[_0x182785(0x1de)](receivedFileInfo[_0x182785(0x17c)]/CHUNK_SIZE)+_0x182785(0x162)+receivedFileInfo[_0x182785(0x156)]+_0x182785(0x1a8)+_0x4947f8+_0x182785(0x21f)+receivedFileInfo[_0x182785(0x17c)]),updateProgressBar(receivedFileInfo['messageId'],_0x4947f8/receivedFileInfo[_0x182785(0x17c)]*0x64);if(_0x4947f8>=receivedFileInfo[_0x182785(0x17c)]){console[_0x182785(0x165)](_0x182785(0x23a)+receivedFileInfo[_0x182785(0x156)]+',\x20reconstructing\x20file'),clearTimeout(_0x6fca38);try{const _0x509148=new Blob(_0x3fd68a,{'type':receivedFileInfo['fileType']||_0x182785(0x160)}),_0x557cfc=URL['createObjectURL'](_0x509148);displayMessage(receivedFileInfo[_0x182785(0x175)],receivedFileInfo[_0x182785(0x156)],![],_0x182785(0x205),_0x557cfc,receivedFileInfo['messageId'],_0x182785(0x189),receivedFileInfo['fileType']),hideProgressBar(receivedFileInfo[_0x182785(0x229)]),_0x3fd68a=[],receivedFileInfo=null,_0x2fa800=0x0,retryCounts['delete'](receivedFileInfo?.[_0x182785(0x229)]);}catch(_0x57b89c){console['error'](_0x182785(0x24a)+receivedFileInfo[_0x182785(0x156)]+':',_0x57b89c),hideProgressBar(receivedFileInfo[_0x182785(0x229)]),alert(_0x182785(0x1e3)),_0x3fd68a=[],receivedFileInfo=null,_0x2fa800=0x0,retryCounts['delete'](receivedFileInfo?.[_0x182785(0x229)]);}}else clearTimeout(_0x6fca38),_0x6fca38=setTimeout(()=>{const _0x20be08=_0x182785;if(receivedFileInfo&&_0x4947f8<receivedFileInfo[_0x20be08(0x17c)]){const _0x32ec83=retryCounts[_0x20be08(0x185)](receivedFileInfo[_0x20be08(0x229)])||0x0;_0x32ec83<MAX_RETRIES?(console[_0x20be08(0x165)]('Requesting\x20resend\x20for\x20'+receivedFileInfo['fileName']+_0x20be08(0x209)+_0x4947f8+_0x20be08(0x21f)+receivedFileInfo['fileSize']+_0x20be08(0x1c2)+_0x2fa800),retryCounts[_0x20be08(0x19b)](receivedFileInfo[_0x20be08(0x229)],_0x32ec83+0x1),dataChannel['send'](JSON[_0x20be08(0x1dc)]({'type':_0x20be08(0x1bc),'messageId':receivedFileInfo[_0x20be08(0x229)],'chunkIndex':_0x2fa800})),_0x1e1f44=Date['now']()):(console['error'](_0x20be08(0x1b4)+receivedFileInfo[_0x20be08(0x156)]+_0x20be08(0x209)+_0x4947f8+_0x20be08(0x21f)+receivedFileInfo[_0x20be08(0x17c)]),hideProgressBar(receivedFileInfo[_0x20be08(0x229)]),alert(_0x20be08(0x173)+receivedFileInfo[_0x20be08(0x156)]+'\x20after\x20'+MAX_RETRIES+'\x20retries.\x20Please\x20try\x20again.'),_0x3fd68a=[],receivedFileInfo=null,_0x2fa800=0x0,retryCounts[_0x20be08(0x245)](receivedFileInfo[_0x20be08(0x229)]));}},CHUNK_TIMEOUT);}}else{const _0x2fd1b3=JSON[_0x182785(0x195)](_0x28a4b1[_0x182785(0x199)]);if(_0x2fd1b3[_0x182785(0x153)]===_0x182785(0x187))displayMessage(_0x2fd1b3[_0x182785(0x175)],_0x2fd1b3[_0x182785(0x235)],![],_0x182785(0x187),null,_0x2fd1b3[_0x182785(0x229)],_0x182785(0x189));else{if(_0x2fd1b3[_0x182785(0x153)]===_0x182785(0x205))receivedFileInfo={'name':_0x2fd1b3[_0x182785(0x175)],'messageId':_0x2fd1b3['messageId'],'fileName':_0x2fd1b3[_0x182785(0x156)],'fileSize':_0x2fd1b3[_0x182785(0x17c)],'fileType':_0x2fd1b3[_0x182785(0x18c)]},_0x3fd68a=[],_0x1e1f44=Date[_0x182785(0x1e5)](),_0x2fa800=0x0,console[_0x182785(0x165)](_0x182785(0x21d)+_0x2fd1b3[_0x182785(0x156)]+_0x182785(0x1b1)+_0x2fd1b3[_0x182785(0x17c)]+_0x182785(0x1ca)+_0x2fd1b3[_0x182785(0x18c)]),showProgressBar(_0x2fd1b3[_0x182785(0x229)],![]);else _0x2fd1b3[_0x182785(0x153)]===_0x182785(0x1bc)&&(console[_0x182785(0x165)](_0x182785(0x17f)+_0x2fd1b3[_0x182785(0x229)]+_0x182785(0x1c2)+_0x2fd1b3[_0x182785(0x1d7)]),resendFileChunk(_0x2fd1b3[_0x182785(0x229)],_0x2fd1b3[_0x182785(0x1d7)]));}}},dataChannel[_0x3f1aa4(0x1e9)]=_0x4fa25d=>{const _0x2b361a=_0x3f1aa4;console[_0x2b361a(0x22d)]('Data\x20channel\x20error:',_0x4fa25d),receivedFileInfo?(hideProgressBar(receivedFileInfo['messageId']),alert(_0x2b361a(0x1f6)+receivedFileInfo['fileName']+'.\x20Please\x20reconnect\x20and\x20try\x20again.'),_0x3fd68a=[],receivedFileInfo=null,_0x2fa800=0x0,clearTimeout(_0x6fca38),retryCounts[_0x2b361a(0x245)](receivedFileInfo[_0x2b361a(0x229)])):alert(_0x2b361a(0x171));};}function sendFileChunks(_0x20449e){const _0x4fdb91=_0x461b49,_0x1959ad=activeTransfers['get'](_0x20449e);if(!_0x1959ad||currentChunk*CHUNK_SIZE>=_0x1959ad[_0x4fdb91(0x17c)]){console[_0x4fdb91(0x165)]('File\x20sending\x20completed\x20for\x20messageId:',_0x20449e),$(_0x4fdb91(0x213))[_0x4fdb91(0x1c7)](''),document[_0x4fdb91(0x20b)]('media-input')[_0x4fdb91(0x1df)]='',currentFile=null,currentChunk=0x0,totalChunks=0x0,hideProgressBar(_0x20449e),activeTransfers[_0x4fdb91(0x245)](_0x20449e),retryCounts[_0x4fdb91(0x245)](_0x20449e);return;}if(dataChannel[_0x4fdb91(0x1a6)]>BUFFER_THRESHOLD){console['log'](_0x4fdb91(0x234)+dataChannel[_0x4fdb91(0x1a6)]+_0x4fdb91(0x180)+_0x20449e),setTimeout(()=>sendFileChunks(_0x20449e),0xc8);return;}const _0x17139b=currentChunk*CHUNK_SIZE,_0x1d37bc=Math[_0x4fdb91(0x1c1)](_0x17139b+CHUNK_SIZE,_0x1959ad['fileSize']);fileReader[_0x4fdb91(0x24d)]=()=>{const _0x1e33ba=_0x4fdb91;try{dataChannel[_0x1e33ba(0x178)](fileReader['result']),console[_0x1e33ba(0x165)]('Sent\x20file\x20chunk\x20'+(currentChunk+0x1)+'/'+_0x1959ad[_0x1e33ba(0x176)]+_0x1e33ba(0x214)+_0x20449e),currentChunk++,updateProgressBar(_0x20449e,currentChunk/_0x1959ad[_0x1e33ba(0x176)]*0x64),setTimeout(()=>sendFileChunks(_0x20449e),0xa);}catch(_0x4d6cba){console['error'](_0x1e33ba(0x21c),_0x20449e,_0x4d6cba),hideProgressBar(_0x20449e),activeTransfers['delete'](_0x20449e),alert(_0x1e33ba(0x18d)),retryCounts[_0x1e33ba(0x245)](_0x20449e);throw _0x4d6cba;}},fileReader[_0x4fdb91(0x1e9)]=()=>{const _0x23b431=_0x4fdb91;console[_0x23b431(0x22d)](_0x23b431(0x236),_0x20449e),hideProgressBar(_0x20449e),activeTransfers[_0x23b431(0x245)](_0x20449e),alert(_0x23b431(0x163)),retryCounts['delete'](_0x20449e);};const _0x1bf753=_0x1959ad['file'][_0x4fdb91(0x1eb)](_0x17139b,_0x1d37bc);fileReader[_0x4fdb91(0x1a7)](_0x1bf753);}function resendFileChunk(_0x457dbf,_0x5cf272){const _0x5b9027=_0x461b49,_0x58496d=activeTransfers[_0x5b9027(0x185)](_0x457dbf);if(!_0x58496d||_0x5cf272*CHUNK_SIZE>=_0x58496d[_0x5b9027(0x17c)]){console['warn'](_0x5b9027(0x1a3)+_0x5cf272+'\x20for\x20messageId\x20'+_0x457dbf+':\x20File\x20or\x20chunk\x20out\x20of\x20range');return;}if(dataChannel[_0x5b9027(0x1a6)]>BUFFER_THRESHOLD){console['log'](_0x5b9027(0x242)+dataChannel[_0x5b9027(0x1a6)]+_0x5b9027(0x1cf)+_0x457dbf),setTimeout(()=>resendFileChunk(_0x457dbf,_0x5cf272),0xc8);return;}const _0x109720=_0x5cf272*CHUNK_SIZE,_0x513c68=Math[_0x5b9027(0x1c1)](_0x109720+CHUNK_SIZE,_0x58496d[_0x5b9027(0x17c)]);fileReader[_0x5b9027(0x24d)]=()=>{const _0x5d5d62=_0x5b9027;try{dataChannel[_0x5d5d62(0x178)](fileReader['result']),console[_0x5d5d62(0x165)](_0x5d5d62(0x1e8)+(_0x5cf272+0x1)+'/'+_0x58496d[_0x5d5d62(0x176)]+'\x20for\x20messageId\x20'+_0x457dbf);}catch(_0x4cbe8d){console[_0x5d5d62(0x22d)](_0x5d5d62(0x1c3)+_0x5cf272+_0x5d5d62(0x1ce)+_0x457dbf+':',_0x4cbe8d);}},fileReader[_0x5b9027(0x1e9)]=()=>{const _0x36ae2b=_0x5b9027;console['error'](_0x36ae2b(0x167)+_0x457dbf);};const _0x25dc38=_0x58496d[_0x5b9027(0x205)]['slice'](_0x109720,_0x513c68);fileReader['readAsArrayBuffer'](_0x25dc38);}function showProgressBar(_0x2a30fb,_0x2a062d){const _0x2eb0d0=_0x461b49,_0x4fbac0=_0x2a062d?'self':_0x2eb0d0(0x192),_0x4bcf18=_0x2a062d?activeTransfers['get'](_0x2a30fb)?.[_0x2eb0d0(0x156)]||'Unknown\x20File':receivedFileInfo?.[_0x2eb0d0(0x156)]||_0x2eb0d0(0x24e);$(_0x2eb0d0(0x239))['append']('\x0a\x20\x20\x20\x20<div\x20class=\x22chat-message\x20'+_0x4fbac0+_0x2eb0d0(0x1ea)+_0x2a30fb+'\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-name\x20mt-2\x22\x20style=\x22font-size:\x2014px;\x20font-weight:\x20500;\x22>'+_0x4bcf18+_0x2eb0d0(0x1f1)),$(_0x2eb0d0(0x239))[_0x2eb0d0(0x1e1)]($('#chat-display')[0x0][_0x2eb0d0(0x247)]);}function updateProgressBar(_0xc88b17,_0x517f8a){const _0x2d6bf9=_0x461b49,_0x4510da=Math['min'](0x64,Math[_0x2d6bf9(0x169)](_0x517f8a));$('#progress-'+_0xc88b17+_0x2d6bf9(0x252))[_0x2d6bf9(0x233)](_0x2d6bf9(0x1fe),_0x4510da+'%')[_0x2d6bf9(0x1cb)](_0x2d6bf9(0x1ba),_0x4510da)[_0x2d6bf9(0x23d)]('.progress-percentage')[_0x2d6bf9(0x187)](_0x4510da+'%');}function hideProgressBar(_0x3cb606){const _0x12ede8=_0x461b49;$(_0x12ede8(0x1e4)+_0x3cb606)['remove']();}function transitionToChat(){const _0x279c75=_0x461b49;$(_0x279c75(0x15c))[_0x279c75(0x22c)]('d-none')&&($(_0x279c75(0x1c8))[_0x279c75(0x193)](_0x279c75(0x1d9))[_0x279c75(0x224)](_0x279c75(0x21e)),$('#chat-section')[_0x279c75(0x193)](_0x279c75(0x21e)),$(_0x279c75(0x16b))['prop'](_0x279c75(0x16d),![])[_0x279c75(0x187)](_0x279c75(0x217)),console[_0x279c75(0x165)](_0x279c75(0x225)));}function displayMessage(_0x48ed11,_0x5845aa,_0x57b0e5,_0x49840d,_0xc09af,_0x4acf82,_0x2abb43,_0x52d4a8=null){const _0x53d548=_0x461b49,_0x1a3775=_0x57b0e5?_0x53d548(0x1f3):'other',_0x553301=_0x57b0e5?_0x53d548(0x20f):'',_0x49bad4=new Date()['toLocaleTimeString']([],{'hour':'2-digit','minute':'2-digit'});let _0x28916e=_0x5845aa;if(_0x49840d===_0x53d548(0x205)&&_0xc09af){const _0x5b0b1d=_0x52d4a8&&_0x52d4a8[_0x53d548(0x1a9)](_0x53d548(0x1ee)),_0x2f63be=_0x52d4a8&&_0x52d4a8[_0x53d548(0x1a9)](_0x53d548(0x23e)),_0x32c65b=_0x52d4a8&&_0x52d4a8['startsWith'](_0x53d548(0x1a1)),_0x41dfd3='<a\x20href=\x22'+_0xc09af+_0x53d548(0x1e7)+_0x5845aa+_0x53d548(0x15d),_0x5a851b=_0x53d548(0x1aa)+_0x5845aa+_0x53d548(0x230);if(_0x5b0b1d)_0x28916e=_0x53d548(0x241)+_0xc09af+_0x53d548(0x1b0)+_0x5845aa+_0x53d548(0x1f4)+_0x5a851b+'\x20'+_0x41dfd3;else{if(_0x2f63be)_0x28916e=_0x53d548(0x1bf)+_0xc09af+'\x22\x20class=\x22mt-2\x22\x20style=\x22width:\x20100%;\x20max-width:\x20300px;\x22></audio><br>'+_0x5a851b+'\x20'+_0x41dfd3;else _0x32c65b?_0x28916e=_0x53d548(0x240)+_0xc09af+_0x53d548(0x1b7)+_0x5a851b+'\x20'+_0x41dfd3:_0x28916e=''+_0x5a851b+_0x41dfd3;}}try{$(_0x53d548(0x239))[_0x53d548(0x158)](_0x53d548(0x1d3)+_0x1a3775+_0x53d548(0x1b2)+_0x28916e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-meta\x20d-flex\x20justify-content-end\x20border-top\x20border-secondary\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22timestamp\x20text-end\x22\x20style=\x22font-size:10px;\x22>'+(_0x57b0e5?'':'<span\x20class=\x22name\x22\x20style=\x22font-size:12px;\x22>'+_0x48ed11+_0x53d548(0x1d5))+'\x20'+_0x49bad4+'\x20'+_0x553301+_0x53d548(0x24b)),$(_0x53d548(0x239))[_0x53d548(0x1e1)]($(_0x53d548(0x239))[0x0][_0x53d548(0x247)]),console[_0x53d548(0x165)](_0x53d548(0x221)+_0x49840d+':\x20'+_0x5845aa+_0x53d548(0x22a)+(_0x52d4a8||'none'));}catch(_0x3ee068){console['error'](_0x53d548(0x1bb)+_0x5845aa+':',_0x3ee068),alert(_0x53d548(0x1c5));}}function deletePeerFromSheet(_0x5646aa){const _0x160eb3=_0x461b49;if(!_0x5646aa){console[_0x160eb3(0x22d)](_0x160eb3(0x237));return;}fetch(DELETE_URL,{'method':'POST','body':new URLSearchParams({'peerId':_0x5646aa})})['then'](_0x377e17=>_0x377e17[_0x160eb3(0x187)]())[_0x160eb3(0x1fc)](_0x4d9b67=>console[_0x160eb3(0x165)]('Deleted\x20SDP\x20for\x20peerId:',_0x5646aa,_0x4d9b67))[_0x160eb3(0x223)](_0x2c2196=>console[_0x160eb3(0x22d)](_0x160eb3(0x204),_0x5646aa,_0x2c2196));}async function startJoinConnection(_0x5048d0){const _0x5e2fc9=_0x461b49;console[_0x5e2fc9(0x165)]('Starting\x20join\x20connection\x20for\x20peerId:\x20'+_0x5048d0),$(_0x5e2fc9(0x1ad))[_0x5e2fc9(0x187)](_0x5e2fc9(0x244));let _0x1f77e9=Date[_0x5e2fc9(0x1e5)]();pollingInterval=setInterval(async()=>{const _0x2a470f=_0x5e2fc9;if(Date['now']()-_0x1f77e9>CONNECTION_TIMEOUT){clearInterval(pollingInterval),$('#joinPeer')[_0x2a470f(0x197)](_0x2a470f(0x16d),![])['text'](_0x2a470f(0x1e0)),$('#peerIdSubmit')[_0x2a470f(0x197)]('disabled',![])['text'](_0x2a470f(0x1d2)),alert('No\x20offer\x20found.\x20Please\x20try\x20again\x20or\x20check\x20peer\x20ID.');return;}const _0x300877=await fetchSDP(_0x5048d0,_0x2a470f(0x24f));if(_0x300877){console[_0x2a470f(0x165)]('Offer\x20SDP\x20found\x20for\x20peerId:\x20'+_0x5048d0+_0x2a470f(0x1e2)),clearInterval(pollingInterval);try{await setupAnswerer(_0x300877),$(_0x2a470f(0x1ad))[_0x2a470f(0x187)]('Connected');}catch(_0x1c5f18){console[_0x2a470f(0x22d)]('Error\x20during\x20join\x20connection:',_0x1c5f18),$(_0x2a470f(0x1ad))['prop']('disabled',![])[_0x2a470f(0x187)](_0x2a470f(0x1e0)),$(_0x2a470f(0x16b))[_0x2a470f(0x197)](_0x2a470f(0x16d),![])[_0x2a470f(0x187)](_0x2a470f(0x1d2)),alert(_0x2a470f(0x1a0));}}else console['log'](_0x2a470f(0x206)+_0x5048d0);},0xbb8);}
