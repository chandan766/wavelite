const _0x54a76e=_0x5b26;(function(_0x17ba0f,_0x4c763a){const _0x1f378a=_0x5b26,_0x5be1c6=_0x17ba0f();while(!![]){try{const _0x1b91eb=-parseInt(_0x1f378a(0x17f))/0x1+-parseInt(_0x1f378a(0x224))/0x2+parseInt(_0x1f378a(0x1e5))/0x3+parseInt(_0x1f378a(0x158))/0x4+parseInt(_0x1f378a(0x1f4))/0x5+parseInt(_0x1f378a(0x1f3))/0x6+parseInt(_0x1f378a(0x1b6))/0x7*(-parseInt(_0x1f378a(0x217))/0x8);if(_0x1b91eb===_0x4c763a)break;else _0x5be1c6['push'](_0x5be1c6['shift']());}catch(_0x3f1568){_0x5be1c6['push'](_0x5be1c6['shift']());}}}(_0x18be,0x65d33));function _0x5b26(_0x258c6f,_0x574ee5){const _0x18be5b=_0x18be();return _0x5b26=function(_0x5b26e,_0xf7e62c){_0x5b26e=_0x5b26e-0x124;let _0x10efd3=_0x18be5b[_0x5b26e];return _0x10efd3;},_0x5b26(_0x258c6f,_0x574ee5);}const FORM_URL=_0x54a76e(0x138),SHEET_URL=_0x54a76e(0x15d),DELETE_URL='https://script.google.com/macros/s/AKfycbyNUCRo3JKNk_bVq9VcdpbICGuBiTytBGRAjFr7VDrHVvG6TMxaA195sBSSBOeiR1DG/exec';let localConnection,dataChannel,pollingInterval,isManuallyConnecting=![],peerId=null;function _0x18be(){const _0x35cbfa=['Failed\x20to\x20receive\x20all\x20chunks\x20for\x20','peerId','<audio\x20controls\x20src=\x22','https://docs.google.com/spreadsheets/d/1oQ7TEJLutMpXo4gi75jTOmlBGPBHlF3ekE0mtA3nK_M/gviz/tq?tqx=out:json','toLocaleTimeString','Error\x20displaying\x20message\x20for\x20','FileReader\x20error\x20for\x20messageId:','#progress-','onerror','hide','Connect','Error\x20sending\x20file:','peerId\x20is\x20undefined\x20in\x20deletePeerFromSheet','Error\x20during\x20join\x20connection:','Peer\x20ID\x20\x22','stun:stun.l.google.com:19302','Data\x20channel\x20opened\x20for\x20peerId:','Error\x20resending\x20file\x20chunk\x20','Sending\x20file,\x20dataChannel\x20state:','All\x20chunks\x20received\x20for\x20','change','setItem','fileSize','Wavelite','Error\x20reconstructing\x20file\x20','\x22\x20is\x20requesting\x20to\x20connect.\x20Do\x20you\x20want\x20to\x20join?','modal','log','readAsArrayBuffer','\x20bytes),\x20waiting\x20for\x20messageId:\x20','table','addClass','Received\x20resend\x20request\x20for\x20messageId:\x20','hasClass','Deleted\x20SDP\x20for\x20peerId:','scrollTop','Anonymous','213094AmYUhC','sent','Failed\x20to\x20fetch\x20','prop','\x20bytes),\x20retrying\x20for\x20messageId:\x20','#delete-all-btn','#peer-error','visible','toString','#save-peer-alert','Offer\x20SDP\x20found\x20for\x20peerId:\x20','\x20SDP:','Submitting\x20offer\x20SDP\x20for\x20peerId:\x20','message','reduce','chat','Failed\x20to\x20read\x20file\x20chunk.\x20Please\x20try\x20again.','\x20.progress-bar','Displayed\x20message\x20for\x20','\x20px-3\x22\x20id=\x22progress-','\x20for\x20','\x22\x20class=\x22img-fluid\x20rounded\x20mt-2\x22\x20style=\x22width:\x20100%;\x20height:\x20auto;\x20object-fit:\x20contain;\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<br>','totalChunks','#joinPeer','\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-name\x20mt-2\x22\x20style=\x22font-size:\x2014px;\x20font-weight:\x20500;\x22>','send','\x22\x20is\x20requesting\x20to\x20connect.','addEventListener',',\x20chunk:\x20','requestPermission','\x20SDP\x20for\x20peerId:\x20','bufferedAmount','Peer\x20ID\x20is\x20required','type','Found\x20','file','answer','Offer\x20Submitted','image/',':\x20File\x20or\x20chunk\x20out\x20of\x20range','length','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-meta\x20d-flex\x20justify-content-end\x20border-top\x20border-secondary\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22timestamp\x20text-end\x22\x20style=\x22font-size:10px;\x22>','remove','min','application/octet-stream','peerName','video/','offer','result','substring','target','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ready','stringify','Failed\x20to\x20join\x20connection.\x20Please\x20try\x20again.','102571wRdKEu','No\x20offer\x20SDP\x20found\x20yet\x20for\x20peerId:\x20','2-digit','#reloadBtn','#media-input','Connection\x20timed\x20out.\x20Please\x20try\x20again\x20or\x20check\x20peer\x20ID.','permission','Error\x20sending\x20text\x20message:','Resent\x20file\x20chunk\x20','width','getItem','Error\x20deleting\x20SDP\x20entries:','Sending\x20text\x20message,\x20dataChannel\x20state:','resend_request','entry.443244439','Unknown\x20File','Delete\x20error\x20for\x20peerId:','Error\x20sending\x20file\x20chunk\x20for\x20messageId:','ondatachannel','#peerId','Waiting\x20for\x20offer...','none','messageId','Received\x20file\x20metadata\x20for\x20','Sent\x20file\x20chunk\x20','<video\x20controls\x20src=\x22','\x20px-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message\x20py-1\x22\x20style=\x22font-size:12px;font-weight:450;\x22>','complete','error','ICE\x20Gathering...','aria-valuenow','name','scrollHeight','No\x20offer\x20found,\x20acting\x20as\x20offerer','self','onmessage','getElementById','#peerNameToSave','fileType','iceGatheringState','Error\x20setting\x20up\x20answerer:','round','File\x20sending\x20completed\x20for\x20messageId:','Name\x20is\x20required','Data\x20channel\x20error:','then','autoJoinModal','786255QwKIkX','slice','\x20for\x20messageId\x20','onload','Connecting...','stun:stun2.l.google.com:19302','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22chat-message\x20','stun:stun.stunprotocol.org:3478','oniceconnectionstatechange','text','size','Disconnect','<div\x20class=\x22file-name\x22\x20style=\x22font-size:\x2013px;\x20font-weight:\x20500;\x22>','catch','4549848wuiXwS','321665ZdqVLK','Modal','#name-error','Submitting\x20Offer...','delivered','#autoJoinConfirmBtn','disabled','audio/',',\x20received:\x20','Failed\x20to\x20display\x20message\x20in\x20UI.\x20Please\x20refresh\x20the\x20page.','click','Received\x20file\x20chunk\x20','stun:stun1.l.google.com:19302','#confirmSavePeerBtn','Waiting\x20for\x20peer...','rows','.progress-percentage','setLocalDescription','value','#savePeerModal','createObjectURL','reload','FileReader\x20error\x20during\x20resend\x20for\x20messageId:\x20','#peer-id','warn','Join','Offer\x20Creating...','setRemoteDescription','granted','Error\x20setting\x20up\x20offerer:','<a\x20href=\x22','<span\x20class=\x22status-icon\x20text-muted\x20ms-2\x22><i\x20class=\x22fas\x20fa-check-double\x22></i></span>','Starting\x20join\x20connection\x20for\x20peerId:\x20','denied','#btn-send-media','120WZpWIk','files','visibilityState','startsWith','append','onopen','d-flex','Deleted\x20all\x20SDP\x20entries:','Data\x20channel\x20error\x20during\x20transfer\x20of\x20','\x20SDP\x20found\x20for\x20peerId:\x20','Joining...',',\x20reconstructing\x20file','#chat-display','1134968NSLOWl',',\x20expected:\x20','createOffer','delete','media-input','entry.1244760702','now','#autoJoinMessage','\x22\x20download=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22chat-message\x20','Offer\x20found,\x20acting\x20as\x20answerer','trim','#login-section','Error\x20submitting\x20','icegatheringstatechange','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress\x20mt-2\x22\x20style=\x22height:\x2030px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x20progress-bar-striped\x20progress-bar-animated\x20bg-info\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20role=\x22progressbar\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x200%;\x20font-size:\x2016px;\x20line-height:\x2030px;\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-valuenow=\x220\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-valuemin=\x220\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-valuemax=\x22100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22progress-percentage\x22>0%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','Cannot\x20send\x20text,\x20dataChannel\x20state:','attr','other','readyState','#chat-section','preventDefault','fileName','Transitioned\x20to\x20chat\x20UI','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22image-wrapper\x22\x20style=\x22max-width:\x20100%;\x20overflow:\x20hidden;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','Please\x20wait\x20until\x20the\x20connection\x20is\x20established\x20before\x20sending\x20a\x20message.','get','d-none','Failed\x20to\x20send\x20message.\x20Please\x20try\x20again.',',\x20fileType:\x20','sdp','peerIds','https://docs.google.com/forms/u/0/d/e/1FAIpQLSej8F-WqVXrneoK1caUwagNb8EbcsLG7c2IWbgzlGIxd7xYAQ/formResponse','undefined','#peerIdSubmit','set','localDescription','val','createAnswer','push','\x22\x20saved\x20for\x20notifications.','entry.479288741','focus','parse','#chat-username',',\x20type:\x20','removeClass','show',',\x20total\x20bytes:\x20','Submitting\x20answer\x20SDP\x20for\x20peerId:\x20','\x20for\x20messageId:\x20','\x22\x20alt=\x22','Peer\x20\x22','open','\x22\x20class=\x22mt-2\x22\x20style=\x22max-width:\x20300px;\x20max-height:\x20250px;\x20object-fit:\x20contain;\x22\x20class=\x22img-fluid\x20rounded\x22></video><br>','Failed\x20to\x20reconstruct\x20received\x20file.\x20Please\x20try\x20again.','onclick','Cannot\x20resend\x20chunk\x20','#peerIdToSave','find','off','Starting\x20connection\x20for\x20peerId:\x20','Failed\x20to\x20establish\x20connection.\x20Please\x20try\x20again.','/logo.png','1330888URlNiW','data'];_0x18be=function(){return _0x35cbfa;};return _0x18be();}const CONNECTION_TIMEOUT=0x9c40,CHUNK_TIMEOUT=0x3a98,MAX_RETRIES=0x3,CHUNK_SIZE=0x10000,BUFFER_THRESHOLD=0x40000;let fileReader=new FileReader(),currentFile=null,currentChunk=0x0,totalChunks=0x0,retryCounts=new Map(),activeTransfers=new Map(),receivedFileInfo=null;$(document)[_0x54a76e(0x1b3)](()=>{const _0x42a37c=_0x54a76e;$(_0x42a37c(0x13a))['click'](async function(_0x51d414){const _0x276721=_0x42a37c;_0x51d414[_0x276721(0x12d)](),isManuallyConnecting=!![];var _0x3c0e4b=$(_0x276721(0x144))[_0x276721(0x13d)]()[_0x276721(0x22f)]();peerId=$(_0x276721(0x20b))[_0x276721(0x13d)]()[_0x276721(0x22f)](),$(_0x276721(0x1f6))[_0x276721(0x1ee)](''),$(_0x276721(0x185))['text']('');let _0x388376=![];!_0x3c0e4b&&(_0x3c0e4b=_0x276721(0x17e));!peerId&&(peerId='peer123');if(_0x388376)return;$('#peerIdSubmit')[_0x276721(0x182)](_0x276721(0x1fa),!![])['text'](_0x276721(0x1e9)),$(_0x276721(0x196))[_0x276721(0x182)](_0x276721(0x1fa),!![])[_0x276721(0x1ee)](_0x276721(0x20d)),$(_0x276721(0x1c9))[_0x276721(0x13d)](peerId),startConnection(peerId);}),$(_0x42a37c(0x1ba))[_0x42a37c(0x16e)](_0x412e18=>{const _0x2b4cc6=_0x42a37c,_0x111684=_0x412e18[_0x2b4cc6(0x1b1)][_0x2b4cc6(0x218)][0x0];_0x111684?currentFile=_0x111684:currentFile=null;}),$(_0x42a37c(0x216))[_0x42a37c(0x1fe)](()=>{const _0x13596f=_0x42a37c;if(!currentFile)$('#media-input')[_0x13596f(0x1fe)]();else{if(dataChannel&&dataChannel[_0x13596f(0x12b)]===_0x13596f(0x14d)){console[_0x13596f(0x175)](_0x13596f(0x16c),dataChannel[_0x13596f(0x12b)]);const _0x4acc8f=$('#chat-username')[_0x13596f(0x13d)]()||'Anonymous',_0x3cb700=Date[_0x13596f(0x22a)]()['toString']();currentChunk=0x0,totalChunks=Math['ceil'](currentFile[_0x13596f(0x1ef)]/CHUNK_SIZE),activeTransfers['set'](_0x3cb700,{'file':currentFile,'fileName':currentFile['name'],'fileSize':currentFile[_0x13596f(0x1ef)],'fileType':currentFile[_0x13596f(0x1a0)]||_0x13596f(0x1ab),'totalChunks':totalChunks});const _0xb9c34f={'type':'file','name':_0x4acc8f,'messageId':_0x3cb700,'fileName':currentFile['name'],'fileSize':currentFile[_0x13596f(0x1ef)],'fileType':currentFile[_0x13596f(0x1a0)]||_0x13596f(0x1ab)};try{dataChannel[_0x13596f(0x198)](JSON[_0x13596f(0x1b4)](_0xb9c34f));const _0x3a4fe5=URL['createObjectURL'](currentFile);displayMessage(_0x4acc8f,currentFile[_0x13596f(0x1d5)],!![],_0x13596f(0x1a2),_0x3a4fe5,_0x3cb700,'sent',_0xb9c34f[_0x13596f(0x1dc)]),showProgressBar(_0x3cb700,!![]),sendFileChunks(_0x3cb700);}catch(_0x330c06){console[_0x13596f(0x1d2)](_0x13596f(0x165),_0x330c06),hideProgressBar(_0x3cb700),activeTransfers[_0x13596f(0x227)](_0x3cb700),alert('Failed\x20to\x20send\x20file.\x20Please\x20try\x20again.');}}else console['warn']('Cannot\x20send\x20file,\x20dataChannel\x20state:',dataChannel?dataChannel[_0x13596f(0x12b)]:_0x13596f(0x139)),alert('Please\x20wait\x20until\x20the\x20connection\x20is\x20established\x20before\x20sending\x20a\x20file.');}}),$(_0x42a37c(0x1b9))[_0x42a37c(0x1fe)](function(){const _0x5ea115=_0x42a37c;location[_0x5ea115(0x209)]();}),$('#btn-send-text')['click'](()=>{const _0x25d92c=_0x42a37c,_0x2ea7b0=$(_0x25d92c(0x144))[_0x25d92c(0x13d)]()||_0x25d92c(0x17e),_0x287869=$('#chat-message')['val'](),_0x4ada78=Date[_0x25d92c(0x22a)]()[_0x25d92c(0x187)]();if(_0x287869&&dataChannel&&dataChannel[_0x25d92c(0x12b)]===_0x25d92c(0x14d)){console[_0x25d92c(0x175)](_0x25d92c(0x1c2),dataChannel[_0x25d92c(0x12b)]);try{dataChannel[_0x25d92c(0x198)](JSON[_0x25d92c(0x1b4)]({'type':_0x25d92c(0x1ee),'name':_0x2ea7b0,'message':_0x287869,'messageId':_0x4ada78})),displayMessage(_0x2ea7b0,_0x287869,!![],_0x25d92c(0x1ee),null,_0x4ada78,_0x25d92c(0x180)),$('#chat-message')[_0x25d92c(0x13d)]('');}catch(_0x7e7e32){console['error'](_0x25d92c(0x1bd),_0x7e7e32),alert(_0x25d92c(0x134));}}else console[_0x25d92c(0x20c)](_0x25d92c(0x128),dataChannel?dataChannel[_0x25d92c(0x12b)]:_0x25d92c(0x139)),alert(_0x25d92c(0x131));}),$(_0x42a37c(0x184))[_0x42a37c(0x1fe)](()=>{const _0x4180e1=_0x42a37c;fetch(DELETE_URL,{'method':'POST','body':new URLSearchParams({'peerId':''})})[_0x4180e1(0x1e3)](_0x25004c=>_0x25004c[_0x4180e1(0x1ee)]())[_0x4180e1(0x1e3)](_0x3968b5=>alert(_0x4180e1(0x21e),_0x3968b5))[_0x4180e1(0x1f2)](_0x39216d=>alert(_0x4180e1(0x1c1),_0x39216d));}),$('#joinPeer')[_0x42a37c(0x1fe)](async function(_0x553b4f){const _0x4e4254=_0x42a37c;_0x553b4f[_0x4e4254(0x12d)](),isManuallyConnecting=!![];const _0x28991d=$(_0x4e4254(0x144))['val']()['trim']();peerId=$('#peer-id')[_0x4e4254(0x13d)]()['trim'](),$(_0x4e4254(0x1f6))['text'](''),$(_0x4e4254(0x185))['text']('');let _0x3108eb=![];!_0x28991d&&($('#name-error')['text'](_0x4e4254(0x1e1)),_0x3108eb=!![]);!peerId&&($(_0x4e4254(0x185))['text'](_0x4e4254(0x19f)),_0x3108eb=!![]);if(_0x3108eb)return;$(_0x4e4254(0x196))[_0x4e4254(0x182)](_0x4e4254(0x1fa),!![])[_0x4e4254(0x1ee)](_0x4e4254(0x221)),$(_0x4e4254(0x13a))[_0x4e4254(0x182)](_0x4e4254(0x1fa),!![])['text'](_0x4e4254(0x164)),$(_0x4e4254(0x1c9))[_0x4e4254(0x13d)](peerId),startJoinConnection(peerId);}),$(_0x42a37c(0x201))[_0x42a37c(0x1fe)](async()=>{const _0x54f332=_0x42a37c,_0x46a150=$(_0x54f332(0x152))[_0x54f332(0x13d)]()[_0x54f332(0x22f)](),_0x37323f=$('#peerNameToSave')[_0x54f332(0x13d)]()[_0x54f332(0x22f)](),_0x3b5355=$(_0x54f332(0x188));_0x3b5355[_0x54f332(0x179)](_0x54f332(0x133))[_0x54f332(0x1ee)]('');if(!_0x46a150||!_0x37323f){_0x3b5355[_0x54f332(0x1ee)]('Peer\x20ID\x20or\x20Name\x20cannot\x20be\x20empty')[_0x54f332(0x146)](_0x54f332(0x133));return;}const _0x5ed6f7=await Notification[_0x54f332(0x19c)]();if(_0x5ed6f7!=='granted'){_0x3b5355[_0x54f332(0x1ee)]('Notification\x20permission\x20denied.\x20Cannot\x20save\x20Peer\x20ID.')[_0x54f332(0x146)](_0x54f332(0x133));return;}localStorage[_0x54f332(0x16f)](_0x54f332(0x137),_0x46a150),localStorage[_0x54f332(0x16f)](_0x54f332(0x1ac),_0x37323f),alert(_0x54f332(0x168)+_0x46a150+_0x54f332(0x140)),$(_0x54f332(0x207))[_0x54f332(0x174)]('hide');}),$('#settingBtn')[_0x42a37c(0x1fe)](function(){const _0x3d3835=_0x42a37c,_0x14973e=localStorage['getItem'](_0x3d3835(0x137))||'',_0x770c88=localStorage[_0x3d3835(0x1c0)]('peerName')||'';_0x14973e&&($(_0x3d3835(0x152))[_0x3d3835(0x13d)](_0x14973e),$(_0x3d3835(0x1db))[_0x3d3835(0x13d)](_0x770c88));});let _0xf05a2=![],_0x3af189=setInterval(async()=>{const _0x10821c=_0x42a37c;if(isManuallyConnecting||_0xf05a2)return;const _0x2535d8=localStorage[_0x10821c(0x1c0)](_0x10821c(0x137))||'peer123',_0x2da681=localStorage[_0x10821c(0x1c0)](_0x10821c(0x1ac))||_0x10821c(0x17e);if(!_0x2535d8)return;const _0x53b1e0=await fetchSDP(_0x2535d8,_0x10821c(0x1ae));if(_0x53b1e0){if(Notification[_0x10821c(0x1bc)]===_0x10821c(0x210)&&document[_0x10821c(0x219)]!==_0x10821c(0x186)){const _0x46c569=new Notification(_0x10821c(0x171),{'body':'Peer\x20\x22'+_0x2535d8+_0x10821c(0x199),'icon':_0x10821c(0x157)});_0x46c569[_0x10821c(0x150)]=function(_0x3f5af7){const _0x20d712=_0x10821c;_0x3f5af7[_0x20d712(0x12d)](),window[_0x20d712(0x142)](),$(_0x20d712(0x22b))[_0x20d712(0x1ee)](_0x20d712(0x14c)+_0x2535d8+'\x22\x20is\x20requesting\x20to\x20connect.\x20Do\x20you\x20want\x20to\x20join?');const _0x2fedc9=new bootstrap[(_0x20d712(0x1f5))](document[_0x20d712(0x1da)]('autoJoinModal'));_0x2fedc9[_0x20d712(0x147)](),$(_0x20d712(0x1f9))['off'](_0x20d712(0x1fe))['on'](_0x20d712(0x1fe),()=>{_0x2fedc9['hide'](),setTimeout(()=>{const _0x2ec5b2=_0x5b26;isManuallyConnecting=!![],$(_0x2ec5b2(0x20b))[_0x2ec5b2(0x13d)](_0x2535d8),$(_0x2ec5b2(0x144))[_0x2ec5b2(0x13d)](_0x2da681),$(_0x2ec5b2(0x196))['click']();},0x12c);});};}else Notification[_0x10821c(0x1bc)]!==_0x10821c(0x215)&&Notification['requestPermission']()['then'](_0x511027=>{const _0x123dd0=_0x10821c;_0x511027==='granted'&&document[_0x123dd0(0x219)]!=='visible'&&new Notification('Wavelite',{'body':_0x123dd0(0x14c)+_0x2535d8+_0x123dd0(0x199),'icon':_0x123dd0(0x157)});});_0xf05a2=!![];if(document[_0x10821c(0x219)]===_0x10821c(0x186)){$(_0x10821c(0x22b))[_0x10821c(0x1ee)](_0x10821c(0x14c)+_0x2535d8+_0x10821c(0x173));const _0x42d67f=new bootstrap[(_0x10821c(0x1f5))](document[_0x10821c(0x1da)](_0x10821c(0x1e4)));_0x42d67f['show'](),$(_0x10821c(0x1f9))[_0x10821c(0x154)](_0x10821c(0x1fe))['on']('click',()=>{const _0x376278=_0x10821c;_0x42d67f[_0x376278(0x163)](),setTimeout(()=>{const _0x4b84f5=_0x376278;isManuallyConnecting=!![],$(_0x4b84f5(0x20b))['val'](_0x2535d8),$(_0x4b84f5(0x144))[_0x4b84f5(0x13d)](_0x2da681),$(_0x4b84f5(0x196))[_0x4b84f5(0x1fe)]();},0x12c);});}return;}},0xbb8);});async function startConnection(_0x5bbf32){const _0x5e0f40=_0x54a76e;console[_0x5e0f40(0x175)](_0x5e0f40(0x155)+_0x5bbf32);const _0x3b522c=await fetchSDP(_0x5bbf32,_0x5e0f40(0x1ae));_0x3b522c?(console[_0x5e0f40(0x175)](_0x5e0f40(0x22e)),await setupAnswerer(_0x3b522c)):(console[_0x5e0f40(0x175)](_0x5e0f40(0x1d7)),await setupOfferer(_0x5bbf32));}async function setupOfferer(_0x498525){const _0xfde6c6=_0x54a76e;localConnection=createPeerConnection(),dataChannel=localConnection['createDataChannel'](_0xfde6c6(0x18e)),setupDataChannel(),$(_0xfde6c6(0x13a))[_0xfde6c6(0x1ee)](_0xfde6c6(0x20e));try{const _0x33f8a0=await localConnection[_0xfde6c6(0x226)]();await localConnection['setLocalDescription'](_0x33f8a0),await waitForIceGathering(localConnection),console[_0xfde6c6(0x175)](_0xfde6c6(0x18b)+_0x498525),await submitSDP(_0x498525,_0xfde6c6(0x1ae),JSON[_0xfde6c6(0x1b4)](localConnection[_0xfde6c6(0x13c)])),$('#peerIdSubmit')[_0xfde6c6(0x1ee)](_0xfde6c6(0x202));let _0x3f959b=Date[_0xfde6c6(0x22a)]();pollingInterval=setInterval(async()=>{const _0x1762bc=_0xfde6c6;if(Date['now']()-_0x3f959b>CONNECTION_TIMEOUT){clearInterval(pollingInterval),$(_0x1762bc(0x13a))[_0x1762bc(0x182)](_0x1762bc(0x1fa),![])['text'](_0x1762bc(0x164)),$(_0x1762bc(0x196))['prop'](_0x1762bc(0x1fa),![])[_0x1762bc(0x1ee)]('Join'),alert(_0x1762bc(0x1bb));return;}const _0x27ca8c=await fetchSDP(_0x498525,_0x1762bc(0x1a3));_0x27ca8c&&(console['log']('Answer\x20SDP\x20found\x20for\x20peerId:\x20'+_0x498525),clearInterval(pollingInterval),await localConnection['setRemoteDescription'](new RTCSessionDescription(JSON[_0x1762bc(0x143)](_0x27ca8c['sdp']))));},0x1388);}catch(_0x5d8ea0){console[_0xfde6c6(0x1d2)](_0xfde6c6(0x211),_0x5d8ea0),$(_0xfde6c6(0x13a))[_0xfde6c6(0x182)]('disabled',![])['text'](_0xfde6c6(0x164)),$(_0xfde6c6(0x196))['prop'](_0xfde6c6(0x1fa),![])[_0xfde6c6(0x1ee)]('Join'),alert(_0xfde6c6(0x156));}}async function setupAnswerer(_0x588ccd){const _0x59cd83=_0x54a76e;localConnection=createPeerConnection(),localConnection[_0x59cd83(0x1c8)]=_0x57bebb=>{dataChannel=_0x57bebb['channel'],setupDataChannel();};try{await localConnection[_0x59cd83(0x20f)](new RTCSessionDescription(JSON[_0x59cd83(0x143)](_0x588ccd[_0x59cd83(0x136)])));const _0x37df8a=await localConnection[_0x59cd83(0x13e)]();await localConnection[_0x59cd83(0x205)](_0x37df8a),await waitForIceGathering(localConnection),console[_0x59cd83(0x175)](_0x59cd83(0x149)+_0x588ccd[_0x59cd83(0x15b)]),await submitSDP(_0x588ccd[_0x59cd83(0x15b)],'answer',JSON[_0x59cd83(0x1b4)](localConnection['localDescription']));}catch(_0x1283a8){console[_0x59cd83(0x1d2)](_0x59cd83(0x1de),_0x1283a8),$(_0x59cd83(0x13a))[_0x59cd83(0x182)](_0x59cd83(0x1fa),![])[_0x59cd83(0x1ee)](_0x59cd83(0x164)),$(_0x59cd83(0x196))[_0x59cd83(0x182)](_0x59cd83(0x1fa),![])['text'](_0x59cd83(0x20d)),alert('Failed\x20to\x20establish\x20connection.\x20Please\x20try\x20again.');}}function createPeerConnection(){const _0x110bac=_0x54a76e,_0x10225f=new RTCPeerConnection({'iceServers':[{'urls':_0x110bac(0x169)},{'urls':_0x110bac(0x200)},{'urls':_0x110bac(0x1ea)},{'urls':_0x110bac(0x1ec)}],'iceCandidatePoolSize':0x0});return _0x10225f[_0x110bac(0x1ed)]=()=>{const _0x49f6bc=_0x110bac;console[_0x49f6bc(0x175)]('ICE\x20connection\x20state:',_0x10225f['iceConnectionState']);},_0x10225f;}function waitForIceGathering(_0x4b63ba){const _0x1ccea3=_0x54a76e;return $(_0x1ccea3(0x13a))['text'](_0x1ccea3(0x1d3)),new Promise(_0x3d5162=>{const _0x20cb8a=_0x1ccea3;if(_0x4b63ba[_0x20cb8a(0x1dd)]===_0x20cb8a(0x1d1))return _0x3d5162();const _0x231ba5=()=>{const _0x65d603=_0x20cb8a;_0x4b63ba[_0x65d603(0x1dd)]==='complete'&&(_0x4b63ba['removeEventListener'](_0x65d603(0x126),_0x231ba5),_0x3d5162());};_0x4b63ba[_0x20cb8a(0x19a)]('icegatheringstatechange',_0x231ba5);});}async function submitSDP(_0x4d8b31,_0x139865,_0x1f9dc9){const _0x3d87bb=_0x54a76e;$(_0x3d87bb(0x13a))[_0x3d87bb(0x1ee)](_0x3d87bb(0x1f7));const _0x202fcd=new FormData();_0x202fcd['append'](_0x3d87bb(0x229),_0x4d8b31),_0x202fcd[_0x3d87bb(0x21b)](_0x3d87bb(0x1c4),_0x139865),_0x202fcd[_0x3d87bb(0x21b)](_0x3d87bb(0x141),_0x1f9dc9);try{await fetch(FORM_URL,{'method':'POST','mode':'no-cors','body':_0x202fcd}),console[_0x3d87bb(0x175)]('Submitted\x20'+_0x139865+_0x3d87bb(0x19d)+_0x4d8b31),$(_0x3d87bb(0x13a))['text'](_0x3d87bb(0x1a4));}catch(_0x28b84c){console[_0x3d87bb(0x1d2)](_0x3d87bb(0x125)+_0x139865+_0x3d87bb(0x18a),_0x28b84c);throw _0x28b84c;}}async function fetchSDP(_0x457720,_0x767e1e){const _0x460392=_0x54a76e;try{const _0x6d0f0c=await fetch(SHEET_URL),_0x4c6544=await _0x6d0f0c[_0x460392(0x1ee)](),_0x184db7=JSON[_0x460392(0x143)](_0x4c6544[_0x460392(0x1b0)](0x2f)[_0x460392(0x1e6)](0x0,-0x2)),_0x26c2d8=_0x184db7[_0x460392(0x178)][_0x460392(0x203)];for(let _0x21778 of _0x26c2d8){const _0x39db4b=_0x21778['c'][0x1]?.['v'],_0x12f0e9=_0x21778['c'][0x2]?.['v'],_0x3a6f44=_0x21778['c'][0x3]?.['v'];if(_0x39db4b==_0x457720&&_0x12f0e9==_0x767e1e&&_0x3a6f44)return console[_0x460392(0x175)](_0x460392(0x1a1)+_0x767e1e+_0x460392(0x19d)+_0x39db4b),{'peerId':_0x39db4b,'role':_0x12f0e9,'sdp':_0x3a6f44};}return console[_0x460392(0x175)]('No\x20'+_0x767e1e+_0x460392(0x220)+_0x457720),null;}catch(_0x8e97ea){return console['error'](_0x460392(0x181)+_0x767e1e+_0x460392(0x19d)+_0x457720+':',_0x8e97ea),null;}}function setupDataChannel(){const _0x27c59d=_0x54a76e;let _0xae4530=[],_0x4b8e26=null,_0x6cfea9=null,_0x35afc6=0x0;if(!peerId){console[_0x27c59d(0x1d2)]('peerId\x20is\x20undefined\x20in\x20setupDataChannel');return;}dataChannel[_0x27c59d(0x21c)]=()=>{const _0x36d271=_0x27c59d;console[_0x36d271(0x175)](_0x36d271(0x16a),peerId),deletePeerFromSheet(peerId),transitionToChat();},dataChannel[_0x27c59d(0x1d9)]=_0x2b4ca9=>{const _0x475d80=_0x27c59d;if(_0x2b4ca9[_0x475d80(0x159)]instanceof ArrayBuffer){if(receivedFileInfo){_0xae4530[_0x475d80(0x13f)](_0x2b4ca9[_0x475d80(0x159)]),_0x4b8e26=Date[_0x475d80(0x22a)](),_0x35afc6++;const _0x53e56f=_0xae4530[_0x475d80(0x18d)]((_0x71b547,_0x11e79c)=>_0x71b547+_0x11e79c['byteLength'],0x0);console['log'](_0x475d80(0x1ff)+_0xae4530[_0x475d80(0x1a7)]+'/'+Math['ceil'](receivedFileInfo[_0x475d80(0x170)]/CHUNK_SIZE)+_0x475d80(0x193)+receivedFileInfo[_0x475d80(0x12e)]+_0x475d80(0x148)+_0x53e56f+_0x475d80(0x225)+receivedFileInfo[_0x475d80(0x170)]),updateProgressBar(receivedFileInfo['messageId'],_0x53e56f/receivedFileInfo[_0x475d80(0x170)]*0x64);if(_0x53e56f>=receivedFileInfo['fileSize']){console['log'](_0x475d80(0x16d)+receivedFileInfo[_0x475d80(0x12e)]+_0x475d80(0x222)),clearTimeout(_0x6cfea9);try{const _0x3fc446=new Blob(_0xae4530,{'type':receivedFileInfo[_0x475d80(0x1dc)]||_0x475d80(0x1ab)}),_0x287ec1=URL[_0x475d80(0x208)](_0x3fc446);displayMessage(receivedFileInfo[_0x475d80(0x1d5)],receivedFileInfo[_0x475d80(0x12e)],![],_0x475d80(0x1a2),_0x287ec1,receivedFileInfo[_0x475d80(0x1cc)],_0x475d80(0x1f8),receivedFileInfo[_0x475d80(0x1dc)]),hideProgressBar(receivedFileInfo[_0x475d80(0x1cc)]),_0xae4530=[],receivedFileInfo=null,_0x35afc6=0x0,retryCounts[_0x475d80(0x227)](receivedFileInfo?.['messageId']);}catch(_0xd2f69a){console[_0x475d80(0x1d2)](_0x475d80(0x172)+receivedFileInfo[_0x475d80(0x12e)]+':',_0xd2f69a),hideProgressBar(receivedFileInfo[_0x475d80(0x1cc)]),alert(_0x475d80(0x14f)),_0xae4530=[],receivedFileInfo=null,_0x35afc6=0x0,retryCounts[_0x475d80(0x227)](receivedFileInfo?.[_0x475d80(0x1cc)]);}}else clearTimeout(_0x6cfea9),_0x6cfea9=setTimeout(()=>{const _0x4a34a8=_0x475d80;if(receivedFileInfo&&_0x53e56f<receivedFileInfo['fileSize']){const _0xa41224=retryCounts[_0x4a34a8(0x132)](receivedFileInfo['messageId'])||0x0;_0xa41224<MAX_RETRIES?(console[_0x4a34a8(0x175)]('Requesting\x20resend\x20for\x20'+receivedFileInfo[_0x4a34a8(0x12e)]+_0x4a34a8(0x1fc)+_0x53e56f+_0x4a34a8(0x225)+receivedFileInfo[_0x4a34a8(0x170)]+_0x4a34a8(0x19b)+_0x35afc6),retryCounts[_0x4a34a8(0x13b)](receivedFileInfo[_0x4a34a8(0x1cc)],_0xa41224+0x1),dataChannel[_0x4a34a8(0x198)](JSON[_0x4a34a8(0x1b4)]({'type':_0x4a34a8(0x1c3),'messageId':receivedFileInfo['messageId'],'chunkIndex':_0x35afc6})),_0x4b8e26=Date['now']()):(console['error']('Max\x20retries\x20reached\x20for\x20'+receivedFileInfo[_0x4a34a8(0x12e)]+_0x4a34a8(0x1fc)+_0x53e56f+_0x4a34a8(0x225)+receivedFileInfo[_0x4a34a8(0x170)]),hideProgressBar(receivedFileInfo[_0x4a34a8(0x1cc)]),alert(_0x4a34a8(0x15a)+receivedFileInfo['fileName']+'\x20after\x20'+MAX_RETRIES+'\x20retries.\x20Please\x20try\x20again.'),_0xae4530=[],receivedFileInfo=null,_0x35afc6=0x0,retryCounts[_0x4a34a8(0x227)](receivedFileInfo['messageId']));}},CHUNK_TIMEOUT);}}else{const _0x231c16=JSON[_0x475d80(0x143)](_0x2b4ca9[_0x475d80(0x159)]);if(_0x231c16['type']===_0x475d80(0x1ee))displayMessage(_0x231c16[_0x475d80(0x1d5)],_0x231c16[_0x475d80(0x18c)],![],_0x475d80(0x1ee),null,_0x231c16[_0x475d80(0x1cc)],_0x475d80(0x1f8));else{if(_0x231c16['type']==='file')receivedFileInfo={'name':_0x231c16[_0x475d80(0x1d5)],'messageId':_0x231c16['messageId'],'fileName':_0x231c16[_0x475d80(0x12e)],'fileSize':_0x231c16[_0x475d80(0x170)],'fileType':_0x231c16[_0x475d80(0x1dc)]},_0xae4530=[],_0x4b8e26=Date['now'](),_0x35afc6=0x0,console['log'](_0x475d80(0x1cd)+_0x231c16[_0x475d80(0x12e)]+',\x20size:\x20'+_0x231c16['fileSize']+_0x475d80(0x145)+_0x231c16[_0x475d80(0x1dc)]),showProgressBar(_0x231c16[_0x475d80(0x1cc)],![]);else _0x231c16[_0x475d80(0x1a0)]===_0x475d80(0x1c3)&&(console[_0x475d80(0x175)](_0x475d80(0x17a)+_0x231c16[_0x475d80(0x1cc)]+_0x475d80(0x19b)+_0x231c16['chunkIndex']),resendFileChunk(_0x231c16[_0x475d80(0x1cc)],_0x231c16['chunkIndex']));}}},dataChannel['onerror']=_0x501920=>{const _0x91090e=_0x27c59d;console['error'](_0x91090e(0x1e2),_0x501920),receivedFileInfo?(hideProgressBar(receivedFileInfo[_0x91090e(0x1cc)]),alert(_0x91090e(0x21f)+receivedFileInfo[_0x91090e(0x12e)]+'.\x20Please\x20reconnect\x20and\x20try\x20again.'),_0xae4530=[],receivedFileInfo=null,_0x35afc6=0x0,clearTimeout(_0x6cfea9),retryCounts[_0x91090e(0x227)](receivedFileInfo[_0x91090e(0x1cc)])):alert('Data\x20channel\x20error\x20occurred.\x20Please\x20reconnect\x20and\x20try\x20again.');};}function sendFileChunks(_0xe26409){const _0x405778=_0x54a76e,_0x12a69d=activeTransfers[_0x405778(0x132)](_0xe26409);if(!_0x12a69d||currentChunk*CHUNK_SIZE>=_0x12a69d[_0x405778(0x170)]){console[_0x405778(0x175)](_0x405778(0x1e0),_0xe26409),$(_0x405778(0x1ba))[_0x405778(0x13d)](''),document[_0x405778(0x1da)](_0x405778(0x228))[_0x405778(0x206)]='',currentFile=null,currentChunk=0x0,totalChunks=0x0,hideProgressBar(_0xe26409),activeTransfers[_0x405778(0x227)](_0xe26409),retryCounts[_0x405778(0x227)](_0xe26409);return;}if(dataChannel[_0x405778(0x19e)]>BUFFER_THRESHOLD){console['log']('Buffer\x20full\x20('+dataChannel[_0x405778(0x19e)]+_0x405778(0x177)+_0xe26409),setTimeout(()=>sendFileChunks(_0xe26409),0xc8);return;}const _0x46b106=currentChunk*CHUNK_SIZE,_0x434c8e=Math[_0x405778(0x1aa)](_0x46b106+CHUNK_SIZE,_0x12a69d[_0x405778(0x170)]);fileReader[_0x405778(0x1e8)]=()=>{const _0x3c2c6f=_0x405778;try{dataChannel[_0x3c2c6f(0x198)](fileReader['result']),console[_0x3c2c6f(0x175)](_0x3c2c6f(0x1ce)+(currentChunk+0x1)+'/'+_0x12a69d['totalChunks']+_0x3c2c6f(0x14a)+_0xe26409),currentChunk++,updateProgressBar(_0xe26409,currentChunk/_0x12a69d['totalChunks']*0x64),setTimeout(()=>sendFileChunks(_0xe26409),0xa);}catch(_0x3e9cfc){console[_0x3c2c6f(0x1d2)](_0x3c2c6f(0x1c7),_0xe26409,_0x3e9cfc),hideProgressBar(_0xe26409),activeTransfers[_0x3c2c6f(0x227)](_0xe26409),alert('Failed\x20to\x20send\x20file\x20chunk.\x20Please\x20try\x20again.'),retryCounts[_0x3c2c6f(0x227)](_0xe26409);throw _0x3e9cfc;}},fileReader[_0x405778(0x162)]=()=>{const _0x3cdbd0=_0x405778;console[_0x3cdbd0(0x1d2)](_0x3cdbd0(0x160),_0xe26409),hideProgressBar(_0xe26409),activeTransfers[_0x3cdbd0(0x227)](_0xe26409),alert(_0x3cdbd0(0x18f)),retryCounts[_0x3cdbd0(0x227)](_0xe26409);};const _0x237f9a=_0x12a69d[_0x405778(0x1a2)][_0x405778(0x1e6)](_0x46b106,_0x434c8e);fileReader['readAsArrayBuffer'](_0x237f9a);}function resendFileChunk(_0x5bddd3,_0x9ddb39){const _0x41cd91=_0x54a76e,_0x260749=activeTransfers[_0x41cd91(0x132)](_0x5bddd3);if(!_0x260749||_0x9ddb39*CHUNK_SIZE>=_0x260749['fileSize']){console[_0x41cd91(0x20c)](_0x41cd91(0x151)+_0x9ddb39+_0x41cd91(0x1e7)+_0x5bddd3+_0x41cd91(0x1a6));return;}if(dataChannel['bufferedAmount']>BUFFER_THRESHOLD){console[_0x41cd91(0x175)]('Buffer\x20full\x20during\x20resend\x20('+dataChannel[_0x41cd91(0x19e)]+_0x41cd91(0x183)+_0x5bddd3),setTimeout(()=>resendFileChunk(_0x5bddd3,_0x9ddb39),0xc8);return;}const _0x372e14=_0x9ddb39*CHUNK_SIZE,_0x29c16e=Math[_0x41cd91(0x1aa)](_0x372e14+CHUNK_SIZE,_0x260749['fileSize']);fileReader[_0x41cd91(0x1e8)]=()=>{const _0x56e6ca=_0x41cd91;try{dataChannel['send'](fileReader[_0x56e6ca(0x1af)]),console[_0x56e6ca(0x175)](_0x56e6ca(0x1be)+(_0x9ddb39+0x1)+'/'+_0x260749[_0x56e6ca(0x195)]+_0x56e6ca(0x1e7)+_0x5bddd3);}catch(_0x1dc77f){console[_0x56e6ca(0x1d2)](_0x56e6ca(0x16b)+_0x9ddb39+_0x56e6ca(0x1e7)+_0x5bddd3+':',_0x1dc77f);}},fileReader[_0x41cd91(0x162)]=()=>{const _0x1251d2=_0x41cd91;console['error'](_0x1251d2(0x20a)+_0x5bddd3);};const _0x465e87=_0x260749[_0x41cd91(0x1a2)][_0x41cd91(0x1e6)](_0x372e14,_0x29c16e);fileReader[_0x41cd91(0x176)](_0x465e87);}function showProgressBar(_0x43cbc1,_0xd65d5){const _0x238fa9=_0x54a76e,_0x34f47b=_0xd65d5?_0x238fa9(0x1d8):_0x238fa9(0x12a),_0xc9bd58=_0xd65d5?activeTransfers[_0x238fa9(0x132)](_0x43cbc1)?.[_0x238fa9(0x12e)]||_0x238fa9(0x1c5):receivedFileInfo?.['fileName']||'Unknown\x20File';$(_0x238fa9(0x223))[_0x238fa9(0x21b)](_0x238fa9(0x22d)+_0x34f47b+_0x238fa9(0x192)+_0x43cbc1+_0x238fa9(0x197)+_0xc9bd58+_0x238fa9(0x127)),$(_0x238fa9(0x223))[_0x238fa9(0x17d)]($(_0x238fa9(0x223))[0x0][_0x238fa9(0x1d6)]);}function updateProgressBar(_0x1afd5e,_0x2e7181){const _0x2f6a4c=_0x54a76e,_0x26ec7a=Math[_0x2f6a4c(0x1aa)](0x64,Math[_0x2f6a4c(0x1df)](_0x2e7181));$(_0x2f6a4c(0x161)+_0x1afd5e+_0x2f6a4c(0x190))['css'](_0x2f6a4c(0x1bf),_0x26ec7a+'%')[_0x2f6a4c(0x129)](_0x2f6a4c(0x1d4),_0x26ec7a)[_0x2f6a4c(0x153)](_0x2f6a4c(0x204))[_0x2f6a4c(0x1ee)](_0x26ec7a+'%');}function hideProgressBar(_0x59c4e7){const _0x1105d9=_0x54a76e;$('#progress-'+_0x59c4e7)[_0x1105d9(0x1a9)]();}function transitionToChat(){const _0xd84f9=_0x54a76e;$(_0xd84f9(0x12c))[_0xd84f9(0x17b)]('d-none')&&($(_0xd84f9(0x124))[_0xd84f9(0x146)](_0xd84f9(0x21d))[_0xd84f9(0x179)](_0xd84f9(0x133)),$(_0xd84f9(0x12c))[_0xd84f9(0x146)](_0xd84f9(0x133)),$(_0xd84f9(0x13a))[_0xd84f9(0x182)](_0xd84f9(0x1fa),![])[_0xd84f9(0x1ee)](_0xd84f9(0x1f0)),console['log'](_0xd84f9(0x12f)));}function displayMessage(_0x5b67f1,_0x11f48a,_0x4f4f0b,_0x57ad0a,_0x135742,_0xab3075,_0x1fad45,_0x1009a4=null){const _0x162476=_0x54a76e,_0x4d644d=_0x4f4f0b?_0x162476(0x1d8):_0x162476(0x12a),_0x58b501=_0x4f4f0b?_0x162476(0x213):'',_0x532c76=new Date()[_0x162476(0x15e)]([],{'hour':_0x162476(0x1b8),'minute':'2-digit'});let _0x3356f6=_0x11f48a;if(_0x57ad0a===_0x162476(0x1a2)&&_0x135742){const _0xf07605=_0x1009a4&&_0x1009a4['startsWith'](_0x162476(0x1a5)),_0x2c988b=_0x1009a4&&_0x1009a4['startsWith'](_0x162476(0x1fb)),_0x58faec=_0x1009a4&&_0x1009a4[_0x162476(0x21a)](_0x162476(0x1ad)),_0x403b3e=_0x162476(0x212)+_0x135742+_0x162476(0x22c)+_0x11f48a+'\x22\x20class=\x22btn\x20btn-sm\x20btn-secondary\x20ms-1\x22><i\x20class=\x22fas\x20fa-download\x22></i></a>',_0x178f3c=_0x162476(0x1f1)+_0x11f48a+'</div>';if(_0xf07605)_0x3356f6=_0x162476(0x130)+_0x135742+_0x162476(0x14b)+_0x11f48a+_0x162476(0x194)+_0x178f3c+'\x20'+_0x403b3e;else{if(_0x2c988b)_0x3356f6=_0x162476(0x15c)+_0x135742+'\x22\x20class=\x22mt-2\x22\x20style=\x22width:\x20100%;\x20max-width:\x20300px;\x22></audio><br>'+_0x178f3c+'\x20'+_0x403b3e;else _0x58faec?_0x3356f6=_0x162476(0x1cf)+_0x135742+_0x162476(0x14e)+_0x178f3c+'\x20'+_0x403b3e:_0x3356f6=''+_0x178f3c+_0x403b3e;}}try{$(_0x162476(0x223))[_0x162476(0x21b)](_0x162476(0x1eb)+_0x4d644d+_0x162476(0x1d0)+_0x3356f6+_0x162476(0x1a8)+(_0x4f4f0b?'':'<span\x20class=\x22name\x22\x20style=\x22font-size:12px;\x22>'+_0x5b67f1+'</span>')+'\x20'+_0x532c76+'\x20'+_0x58b501+_0x162476(0x1b2)),$(_0x162476(0x223))['scrollTop']($('#chat-display')[0x0][_0x162476(0x1d6)]),console[_0x162476(0x175)](_0x162476(0x191)+_0x57ad0a+':\x20'+_0x11f48a+_0x162476(0x135)+(_0x1009a4||_0x162476(0x1cb)));}catch(_0xbc64ac){console[_0x162476(0x1d2)](_0x162476(0x15f)+_0x11f48a+':',_0xbc64ac),alert(_0x162476(0x1fd));}}function deletePeerFromSheet(_0x2f57b4){const _0x589da8=_0x54a76e;if(!_0x2f57b4){console[_0x589da8(0x1d2)](_0x589da8(0x166));return;}fetch(DELETE_URL,{'method':'POST','body':new URLSearchParams({'peerId':_0x2f57b4})})[_0x589da8(0x1e3)](_0x511726=>_0x511726[_0x589da8(0x1ee)]())[_0x589da8(0x1e3)](_0x24ea52=>console['log'](_0x589da8(0x17c),_0x2f57b4,_0x24ea52))[_0x589da8(0x1f2)](_0x249f88=>console[_0x589da8(0x1d2)](_0x589da8(0x1c6),_0x2f57b4,_0x249f88));}async function startJoinConnection(_0x6fbfbe){const _0x19683b=_0x54a76e;console[_0x19683b(0x175)](_0x19683b(0x214)+_0x6fbfbe),$(_0x19683b(0x196))[_0x19683b(0x1ee)](_0x19683b(0x1ca));let _0x2b0583=Date[_0x19683b(0x22a)]();pollingInterval=setInterval(async()=>{const _0x5a1191=_0x19683b;if(Date[_0x5a1191(0x22a)]()-_0x2b0583>CONNECTION_TIMEOUT){clearInterval(pollingInterval),$(_0x5a1191(0x196))[_0x5a1191(0x182)](_0x5a1191(0x1fa),![])['text'](_0x5a1191(0x20d)),$(_0x5a1191(0x13a))[_0x5a1191(0x182)](_0x5a1191(0x1fa),![])['text'](_0x5a1191(0x164)),alert('No\x20offer\x20found.\x20Please\x20try\x20again\x20or\x20check\x20peer\x20ID.');return;}const _0x4e11aa=await fetchSDP(_0x6fbfbe,'offer');if(_0x4e11aa){console[_0x5a1191(0x175)](_0x5a1191(0x189)+_0x6fbfbe+',\x20proceeding\x20as\x20answerer'),clearInterval(pollingInterval);try{await setupAnswerer(_0x4e11aa),$(_0x5a1191(0x196))[_0x5a1191(0x1ee)]('Connected');}catch(_0x3b6a1b){console['error'](_0x5a1191(0x167),_0x3b6a1b),$(_0x5a1191(0x196))['prop'](_0x5a1191(0x1fa),![])['text'](_0x5a1191(0x20d)),$(_0x5a1191(0x13a))[_0x5a1191(0x182)](_0x5a1191(0x1fa),![])[_0x5a1191(0x1ee)](_0x5a1191(0x164)),alert(_0x5a1191(0x1b5));}}else console[_0x5a1191(0x175)](_0x5a1191(0x1b7)+_0x6fbfbe);},0xbb8);}
